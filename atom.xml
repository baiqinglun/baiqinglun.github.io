<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>大白的个人博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2025-02-21T03:12:33.241Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>DB</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>失效压力模型</title>
    <link href="http://example.com/2025/02/21/050%20%E5%A4%B1%E6%95%88%E5%8E%8B%E5%8A%9B%E6%A8%A1%E5%9E%8B%E8%AE%A1%E7%AE%97/"/>
    <id>http://example.com/2025/02/21/050%20%E5%A4%B1%E6%95%88%E5%8E%8B%E5%8A%9B%E6%A8%A1%E5%9E%8B%E8%AE%A1%E7%AE%97/</id>
    <published>2025-02-21T11:22:00.000Z</published>
    <updated>2025-02-21T03:12:33.241Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/21 上午</p>          </div><p>想写一个计算缺陷管道失效压力的程序，输入管道尺寸及裂纹参数能够使用不能的方法计算出失效压力，然后输出到csv文件中。</p><a class="btn" href="https://github.com/baiqinglun/Pipe-Failure-Pressure"  title="github地址" target="_blank">github地址</a><pre><code class=" mermaid">classDiagramclass FailurePressureAbstractFailurePressureAbstract : +double calucate(const Params&amp; params)FailurePressureAbstract : ~FailurePressureAbstract()class ASMEB31G2009ASMEB31G2009 : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- ASMEB31G2009class RSTRENG085dLRSTRENG085dL : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- RSTRENG085dLclass PCORRCPCORRC : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- PCORRCclass DNV_RP_F101DNV_RP_F101 : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- DNV_RP_F101class AGANG18AGANG18 : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- AGANG18class NettoNetto : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- Nettoclass C_FerC_Fer : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- C_Ferclass RAM_PIPE_REQUALRAM_PIPE_REQUAL : +double calucate(const Params&amp; params)FailurePressureAbstract &lt;|-- RAM_PIPE_REQUALclass FailurePressureContextFailurePressureContext : - FailurePressureAbstract strategyFailurePressureContext : + void setStrategyFailurePressureContext : +double executeStrategy(const Params&amp; params)FailurePressureContext &lt;|.. FailurePressureAbstract</code></pre><h2 id="失效模型">1、失效模型</h2><p>根据需求选定策略模型来编写失效模型，方便代码维护。</p><p>首先定义一个抽象类，具有<code>calucate</code>函数，其他子类都要重写这个函数，实现不同的功能。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FailurePressureAbstract</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">FailurePressureAbstract</span>() = <span class="hljs-keyword">default</span>; <span class="hljs-comment">// 虚析构函数</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>其中<code>Params</code>类型是一个列表，可存储<code>float</code>、<code>double</code>和<code>int</code>三种类型，定义如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">using</span> Params = std::vector&lt;std::variant&lt;<span class="hljs-type">float</span>, <span class="hljs-type">double</span>, <span class="hljs-type">int</span>&gt;&gt;;<br></code></pre></td></tr></table></figure><p>子类集成父类，定义如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ASMEB31G2009</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RSTRENG085dL</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PCORRC</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DNV_RP_F101</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C_Fer</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AGANG18</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Netto</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RAM_PIPE_REQUAL</span> : <span class="hljs-keyword">public</span> FailurePressureAbstract &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> <span class="hljs-keyword">override</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>子类实现如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><code class="hljs c++"><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">ASMEB31G2009::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> </span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> SMYS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> S_flow = SMYS * <span class="hljs-number">1.1</span>;<br>    <span class="hljs-type">double</span> z = <span class="hljs-built_in">pow</span>(l, <span class="hljs-number">2</span>) / (D * t);<br><br>    <span class="hljs-type">double</span> M = <span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">50</span>) &#123;<br>        M = <span class="hljs-number">0.032</span> * z + <span class="hljs-number">3.3</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        M = <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + <span class="hljs-number">0.6275</span> * z - <span class="hljs-number">0.003375</span> * <span class="hljs-built_in">pow</span>(z, <span class="hljs-number">2</span>), <span class="hljs-number">0.5</span>);<br>    &#125;<br><br>    <span class="hljs-type">double</span> failure_pressure = S_flow * <span class="hljs-number">2</span> * t / D * (<span class="hljs-number">1</span> - <span class="hljs-number">0.85</span> * d / t) / (<span class="hljs-number">1</span> - <span class="hljs-number">0.85</span> * d / t / M);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;调用 ASMEB31G2009 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">RSTRENG085dL::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> </span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> SMYS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> S_flow = SMYS + <span class="hljs-number">68.95</span>;<br>    <span class="hljs-type">double</span> z = <span class="hljs-built_in">pow</span>(l, <span class="hljs-number">2</span>) / (D * t);<br><br>    <span class="hljs-type">double</span> M = <span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">50</span>) &#123;<br>        M = <span class="hljs-number">0.032</span> * z + <span class="hljs-number">3.3</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        M = <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + <span class="hljs-number">0.6275</span> * z - <span class="hljs-number">0.003375</span> * <span class="hljs-built_in">pow</span>(z, <span class="hljs-number">2</span>), <span class="hljs-number">0.5</span>);<br>    &#125;<br><br>    <span class="hljs-type">double</span> failure_pressure = S_flow * <span class="hljs-number">2</span> * t / D * (<span class="hljs-number">1</span> - <span class="hljs-number">0.85</span> * d / t) / (<span class="hljs-number">1</span> - <span class="hljs-number">0.85</span> * d / t / M);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;调用 RSTRENG085dL 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">PCORRC::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> </span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> UTS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> M = <span class="hljs-number">1</span> - <span class="hljs-built_in">exp</span>((<span class="hljs-number">-0.157</span> * l) / (<span class="hljs-built_in">pow</span>(D / <span class="hljs-number">2</span>, <span class="hljs-number">0.5</span>) * (t - d)));<br><br>    <span class="hljs-type">double</span> failure_pressure = <span class="hljs-number">2</span> * t * UTS / D * (<span class="hljs-number">1</span> - d * M / t);<br>    cout &lt;&lt; <span class="hljs-string">&quot;调用 PCORRC 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">DNV_RP_F101::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> UTS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> M = <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + <span class="hljs-number">0.31</span> * <span class="hljs-built_in">pow</span>(l, <span class="hljs-number">2</span>) / (D * t), <span class="hljs-number">0.5</span>);<br><br>    <span class="hljs-type">double</span> failure_pressure = <span class="hljs-number">2</span> * t * UTS / (D - t) * ((<span class="hljs-number">1</span> - d / t) / (<span class="hljs-number">1</span> - d / t / M));<br>    cout &lt;&lt; <span class="hljs-string">&quot;调用 DNV_RP_F101 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">C_Fer::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> SMYS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> z = <span class="hljs-built_in">pow</span>(l, <span class="hljs-number">2</span>) / (D * t);<br>    <span class="hljs-type">double</span> S_flow = SMYS * <span class="hljs-number">0.9</span>;<br><br>    <span class="hljs-type">double</span> M = <span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">50</span>) &#123;<br>        M = <span class="hljs-number">0.032</span> * z + <span class="hljs-number">3.3</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        M = <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + <span class="hljs-number">0.6275</span> * z - <span class="hljs-number">0.003375</span> * <span class="hljs-built_in">pow</span>(z, <span class="hljs-number">2</span>), <span class="hljs-number">0.5</span>);<br>    &#125;<br><br>    <span class="hljs-type">double</span> A0 = l * t;<br>    <span class="hljs-type">double</span> A = l * d;<br><br>    <span class="hljs-type">double</span> failure_pressure = <span class="hljs-number">2</span> * t * S_flow / D * (<span class="hljs-number">1</span> - A/A0) / (<span class="hljs-number">1</span>- A / A0 / M);<br>    cout &lt;&lt; <span class="hljs-string">&quot;调用 C_Fer 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">AGANG18::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> SMYS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Netto::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> SMYS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> failure_pressure = <span class="hljs-number">1.1</span> * SMYS * <span class="hljs-number">2</span> * t / D * (<span class="hljs-number">1</span> - <span class="hljs-number">0.9435</span> * <span class="hljs-built_in">pow</span>(d / t, <span class="hljs-number">1.6</span>) * <span class="hljs-built_in">pow</span>(l / D, <span class="hljs-number">0.4</span>));<br>    cout &lt;&lt; <span class="hljs-string">&quot;调用 Netto 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">RAM_PIPE_REQUAL::calucate</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> t = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">0</span>]);<br>    <span class="hljs-type">double</span> D = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">1</span>]);<br>    <span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">2</span>]);<br>    <span class="hljs-type">double</span> l = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">3</span>]);<br>    <span class="hljs-type">double</span> UTS = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">double</span>&gt;(params[<span class="hljs-number">4</span>]);<br><br>    <span class="hljs-type">double</span> SCF = <span class="hljs-number">1</span> + <span class="hljs-number">2</span> * <span class="hljs-built_in">pow</span>(<span class="hljs-number">2</span> * d / D, <span class="hljs-number">0.5</span>);<br>    <span class="hljs-type">double</span> failure_pressure = <span class="hljs-number">2.2</span> * (t - d) * UTS / (D - t) / SCF;<br>    cout &lt;&lt; <span class="hljs-string">&quot;调用 RAM_PIPE_REQUAL 成功&quot;</span> &lt;&lt; failure_pressure &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> failure_pressure;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="定义上下文类">2、定义上下文类</h2><p>使用智能指针管理生命周期，并保证子类的所有权</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 上下文类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FailurePressureContext</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    std::unique_ptr&lt;FailurePressureAbstract&gt; strategy; <span class="hljs-comment">// 使用unique_ptr来管理策略的生命周期</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">FailurePressureContext</span><span class="hljs-params">(std::unique_ptr&lt;FailurePressureAbstract&gt; newStrategy)</span></span><br><span class="hljs-function">        : strategy(move(newStrategy)) &#123;</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setStrategy</span><span class="hljs-params">(std::unique_ptr&lt;FailurePressureAbstract&gt; newStrategy)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">executeStrategy</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span></span>;<br>&#125;;<br><br><span class="hljs-comment">// 上下文类</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">FailurePressureContext::setStrategy</span><span class="hljs-params">(std::unique_ptr&lt;FailurePressureAbstract&gt; newStrategy)</span> </span>&#123;<br>    strategy = <span class="hljs-built_in">move</span>(newStrategy);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">FailurePressureContext::executeStrategy</span><span class="hljs-params">(<span class="hljs-type">const</span> Params&amp; params)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (strategy) &#123;<br>        <span class="hljs-keyword">return</span> strategy.<span class="hljs-built_in">get</span>()-&gt;<span class="hljs-built_in">calucate</span>(params);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="输出文件类定义">3、输出文件类定义</h2><p>主要有打开、关闭文件，写入行函数，写入行函数使用模板实现传入不同类型的值。</p><blockquote><p>这里一开始写的<code>写入头</code>函数只能写入字符串，在调用时需要将其他类型转化一下，不太方便，于是还按照<code>写入行</code>函数进行调用。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// .h文件</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CSVFileWriter</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    std::ofstream file;    <span class="hljs-comment">// 文件输出流</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// 构造函数，接受文件名</span><br>    <span class="hljs-built_in">CSVFileWriter</span>(<span class="hljs-type">const</span> std::string&amp; filename);<br><br>    <span class="hljs-comment">// 析构函数，确保关闭文件</span><br>    ~<span class="hljs-built_in">CSVFileWriter</span>();<br><br>    <span class="hljs-comment">// 写入标题行</span><br>    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function">    <span class="hljs-type">void</span> <span class="hljs-title">writeHeader</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; headers)</span></span>;<br>    <span class="hljs-comment">//void writeHeader(const std::vector&lt;std::string&gt;&amp; headers);</span><br><br>    <span class="hljs-comment">// 写入一行数据</span><br>    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function">    <span class="hljs-type">void</span> <span class="hljs-title">writeRow</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; row)</span></span>; <span class="hljs-comment">// 声明模板函数，但实现放在头文件中</span><br><br>    <span class="hljs-comment">// 检查文件是否打开</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isOpen</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>&#125;;<br><br><span class="hljs-comment">// 模板函数实现</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span>  <span class="hljs-title">CSVFileWriter::writeRow</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; row)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; row.<span class="hljs-built_in">size</span>(); ++i) &#123;<br>        <span class="hljs-comment">// 提取变体的值并写入</span><br>        std::<span class="hljs-built_in">visit</span>([<span class="hljs-keyword">this</span>, i, size = row.<span class="hljs-built_in">size</span>()](<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; arg) &#123;<br>            file &lt;&lt; arg &lt;&lt; (i &lt; size - <span class="hljs-number">1</span> ? <span class="hljs-string">&quot;,&quot;</span> : <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;, row[i]);<br>    &#125;<br>    file &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; <span class="hljs-comment">// 换行</span><br>&#125;<br><br><span class="hljs-comment">// 写入标题行</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CSVFileWriter::writeHeader</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; headers)</span> </span>&#123;<br>    <span class="hljs-built_in">writeRow</span>(headers);<br>&#125;<br><br><span class="hljs-comment">// .cpp文件</span><br><span class="hljs-comment">// 构造函数</span><br>CSVFileWriter::<span class="hljs-built_in">CSVFileWriter</span>(<span class="hljs-type">const</span> std::string&amp; filename) &#123;<br>    file.<span class="hljs-built_in">open</span>(filename);<br>    <span class="hljs-keyword">if</span> (!file.<span class="hljs-built_in">is_open</span>()) &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;无法打开文件: &quot;</span> + filename);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 析构函数</span><br>CSVFileWriter::~<span class="hljs-built_in">CSVFileWriter</span>() &#123;<br>    <span class="hljs-keyword">if</span> (file.<span class="hljs-built_in">is_open</span>()) &#123;<br>        file.<span class="hljs-built_in">close</span>();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 检查文件是否打开</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">CSVFileWriter::isOpen</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> file.<span class="hljs-built_in">is_open</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="示例调用">4、示例调用</h2><p>这里有详细的注释就不写了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// main.cpp</span><br><span class="hljs-comment">// 输出文件名称</span><br>std::string name = <span class="hljs-string">&quot;X52&quot;</span>;<br><span class="hljs-comment">// 基于屈服极限的参数列表</span><br>Params X52_SMYS = &#123; <span class="hljs-number">6.3</span>, <span class="hljs-number">462.6</span>, <span class="hljs-number">6.0</span>, <span class="hljs-number">200.0</span>, <span class="hljs-number">435.5</span> &#125;;<br><span class="hljs-comment">// 基于强度极限的参数列表</span><br>Params X52_UTS = &#123; <span class="hljs-number">6.3</span>, <span class="hljs-number">462.6</span>, <span class="hljs-number">6.0</span>, <span class="hljs-number">200.0</span>, <span class="hljs-number">530.0</span> &#125;;<br><br><span class="hljs-comment">// 定义行类型</span><br><span class="hljs-keyword">using</span> RowParams = std::vector&lt;std::variant&lt;<span class="hljs-type">double</span>, std::string&gt;&gt;;<br>RowParams ASMEB31G2009_res_list = &#123; <span class="hljs-string">&quot;ASMEB31G2009&quot;</span> &#125;;<br>RowParams RSTRENG085dL_res_list = &#123; <span class="hljs-string">&quot;RSTRENG085dL&quot;</span> &#125;;<br>RowParams PCORRC_res_list = &#123; <span class="hljs-string">&quot;PCORRC&quot;</span> &#125;;<br>RowParams DNV_RP_F101_res_list = &#123; <span class="hljs-string">&quot;DNV_RP_F101&quot;</span> &#125;;<br>RowParams C_Fer_res_list = &#123; <span class="hljs-string">&quot;C_Fer&quot;</span> &#125;;<br>RowParams Netto_res_list = &#123; <span class="hljs-string">&quot;Netto&quot;</span> &#125;;<br>RowParams RAM_PIPE_REQUAL_res_list = &#123; <span class="hljs-string">&quot;RAM_PIPE_REQUAL&quot;</span> &#125;;<br><br><span class="hljs-comment">// 定义多行数据，存储指针</span><br>std::vector&lt;RowParams*&gt; rows;<br>rows.<span class="hljs-built_in">push_back</span>(&amp;ASMEB31G2009_res_list );<br>rows.<span class="hljs-built_in">push_back</span>(&amp;RSTRENG085dL_res_list );<br>rows.<span class="hljs-built_in">push_back</span>(&amp;PCORRC_res_list );<br>rows.<span class="hljs-built_in">push_back</span>(&amp;DNV_RP_F101_res_list);<br>rows.<span class="hljs-built_in">push_back</span>(&amp;C_Fer_res_list );<br>rows.<span class="hljs-built_in">push_back</span>(&amp;Netto_res_list );<br>rows.<span class="hljs-built_in">push_back</span>(&amp;RAM_PIPE_REQUAL_res_list );<br></code></pre></td></tr></table></figure><p>调用上下文类计算</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// main.cpp</span><br><span class="hljs-comment">// 定义缺陷深度的变化范围</span><br>std::vector&lt;<span class="hljs-type">double</span>&gt; t = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> &#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; t.<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br>    X52_SMYS[<span class="hljs-number">2</span>] = t[i];<br>    X52_UTS[<span class="hljs-number">2</span>] = t[i];<br><br>    <span class="hljs-comment">// 创建上下文，初始采用FIFO策略</span><br>    <span class="hljs-function">FailurePressureContext <span class="hljs-title">context</span><span class="hljs-params">(make_unique&lt;ASMEB31G2009&gt;())</span></span>;<br>    ASMEB31G2009_res_list.<span class="hljs-built_in">push_back</span>( context.<span class="hljs-built_in">executeStrategy</span>(X52_SMYS)  );<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;RSTRENG085dL&gt;());<br>    RSTRENG085dL_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_SMYS));<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;PCORRC&gt;());<br>    PCORRC_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_UTS) );<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;DNV_RP_F101&gt;());<br>    DNV_RP_F101_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_UTS) );<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;C_Fer&gt;());<br>    C_Fer_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_SMYS) );<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;Netto&gt;());<br>    Netto_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_SMYS) );<br><br>    context.<span class="hljs-built_in">setStrategy</span>(<span class="hljs-built_in">make_unique</span>&lt;RAM_PIPE_REQUAL&gt;());<br>    RAM_PIPE_REQUAL_res_list.<span class="hljs-built_in">push_back</span>(context.<span class="hljs-built_in">executeStrategy</span>(X52_UTS));<br>&#125;<br></code></pre></td></tr></table></figure><p>写入文件</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 写入文件</span><br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-comment">// 创建 CSVFileWriter 对象</span><br>    <span class="hljs-function">CSVFileWriter <span class="hljs-title">csvWriter</span><span class="hljs-params">(name + <span class="hljs-string">&quot;.csv&quot;</span>)</span></span>;<br>    RowParams header = &#123; <span class="hljs-string">&quot;method&quot;</span>&#125;;<br>    header.<span class="hljs-built_in">insert</span>(header.<span class="hljs-built_in">end</span>(), t.<span class="hljs-built_in">begin</span>(), t.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-comment">// 写入表头</span><br>    csvWriter.<span class="hljs-built_in">writeHeader</span>(header);<br><br>    <span class="hljs-comment">// 写入多行数据</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; entry : rows)<br>    &#123;<br>        csvWriter.<span class="hljs-built_in">writeRow</span>(*entry);<br>    &#125;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;数据已成功写入 &quot;</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">&quot;.csv&quot;</span> &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;大功告成 &quot;</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">&quot;.csv&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) &#123;<br>    std::cerr &lt;&lt; <span class="hljs-string">&quot;错误: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 返回错误代码</span><br>&#125;<br></code></pre></td></tr></table></figure><p>输出文件示例</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250221105035.png"></p></div>]]></content>
    
    
    <summary type="html">含腐蚀缺陷管道的失效压力计算模型，输出csv文件</summary>
    
    
    
    <category term="科研" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/"/>
    
    <category term="裂纹" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/%E8%A3%82%E7%BA%B9/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="编程" scheme="http://example.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="失效压力" scheme="http://example.com/tags/%E5%A4%B1%E6%95%88%E5%8E%8B%E5%8A%9B/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus案例之管道爆炸</title>
    <link href="http://example.com/2025/02/15/049%20Abaqus%E6%A1%88%E4%BE%8B%E4%B9%8B%E7%AE%A1%E9%81%93%E7%BC%BA%E9%99%B7%E5%BC%80%E8%A3%82/"/>
    <id>http://example.com/2025/02/15/049%20Abaqus%E6%A1%88%E4%BE%8B%E4%B9%8B%E7%AE%A1%E9%81%93%E7%BC%BA%E9%99%B7%E5%BC%80%E8%A3%82/</id>
    <published>2025-02-15T11:22:00.000Z</published>
    <updated>2025-02-20T11:56:26.335Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/15 晚上</p>          </div><h2 id="完整管道">1、完整管道</h2><a class="btn" href="https://www.bilibili.com/video/BV1uP411g7Xu/?spm_id_from=333.337.search-card.all.click&vd_source=33b50a4dd201d7564e6e63d321809ce9"  title="案例视频" target="_blank">案例视频</a><h3 id="部件">1.1 部件</h3><p>基本参数</p><ul><li>管道厚度：6.3mm</li><li>长度：2.1m</li><li>直径：450mm</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215194206.png"></p></div><h3 id="材料">1.2 材料</h3><ul><li>密度：<spanclass="math inline">\(7800kg/m^{3}=7.8e^{-9}t/m^{3}\)</span></li><li>杨氏模量：<spanclass="math inline">\(2.1×10^{11}N·m^{-2}=2.1×10^{5}N·mm^{-2}\)</span></li><li>泊松比：0.3</li><li>塑性 755 0 809 0.01 829 0.02 842 0.1 895 0.15 922 0.4 953 1 11004</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215194446.png"></p></div><h3 id="分析步">1.3 分析步</h3><ul><li>计算类型：动力显性</li><li>时间长度：10s</li><li>自定义质量缩放</li></ul><p>质量缩放</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215195901.png"></p></div><p>场输出选择<code>STATUS</code>和<code>DMICRT</code></p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215200036.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215200134.png"></p></div><h3 id="载荷">1.4 载荷</h3><ul><li>管道两端面全固定</li><li>内壁面压力20MPa</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215200820.png"></p></div><h3 id="网格">1.5 网格</h3><p>全尺寸50mm</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215200809.png"></p></div><h2 id="内腐蚀管道">2、内腐蚀管道</h2><h2 id="外腐蚀管道">3、外腐蚀管道</h2>]]></content>
    
    
    <summary type="html">完整管道、内腐蚀缺陷和外腐蚀缺陷开裂</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/%E6%A1%88%E4%BE%8B/"/>
    
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/tags/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/tags/%E6%A1%88%E4%BE%8B/"/>
    
    <category term="管道" scheme="http://example.com/tags/%E7%AE%A1%E9%81%93/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus模拟之勾股拉伸件</title>
    <link href="http://example.com/2025/02/15/048%20Abaqus%E6%A1%88%E4%BE%8B%E4%B9%8B%E5%8B%BE%E8%82%A1%E6%8B%89%E4%BC%B8%E4%BB%B6/"/>
    <id>http://example.com/2025/02/15/048%20Abaqus%E6%A1%88%E4%BE%8B%E4%B9%8B%E5%8B%BE%E8%82%A1%E6%8B%89%E4%BC%B8%E4%BB%B6/</id>
    <published>2025-02-15T07:51:00.000Z</published>
    <updated>2025-02-20T01:32:32.173Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/15 下午</p>          </div><h2 id="创建部件">1、创建部件</h2><p>创建构造：过两点的斜线</p><blockquote><p>“过两点的斜线”指的是在建模过程中通过定义两个特定点来创建一条直线。这条线可以用于构建几何体、划分区域或进行加载和边界条件的设置。通过指定这两个点，可以清晰地确定线段的起始和终止位置，以便于后续的分析和仿真。</p></blockquote><ol type="1"><li><p>创建与x、y轴重合的两条线，便于之后的镜像。</p></li><li><p>创建点</p></li></ol><ul><li>(6.25,0)</li><li>(6.25,50)</li><li>(36.25,50)</li><li>(12.5,0)</li><li>(12.5,50)</li><li>(12.5,100)</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164215.png"></p></div><p>完整草图</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164321.png"></p></div><p>深度设置为1.5</p><ol start="3" type="1"><li>分割拉伸件</li></ol><p>目的：便于施加边界条件和网格加密</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164540.png"></p></div><p>完成效果</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164652.png"></p></div><h2 id="材料属性">2、材料属性</h2><p>Al材料属性</p><blockquote><p>使用mm单位制</p></blockquote><ul><li>密度：2.7e-9</li><li>弹性：<ul><li>杨氏模量：70000</li><li>泊松比：0.3</li></ul></li><li>塑性<ul><li>屈服应力-塑性应变</li><li>150-0</li><li>245-0.7</li></ul></li><li>JC损伤<ul><li>d1：-0.77</li><li>d2：1.45</li><li>d3：-0.47</li><li>d4：0</li><li>d5：1.6</li><li>损伤演化：损伤位移0.02</li></ul></li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164719.png"></p></div><p>创建均质平面</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164748.png"></p></div><p>全部赋予部件，并装配</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164815.png"></p></div><h2 id="分析步">3、分析步</h2><p>时间长度0.1</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215164943.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165040.png"></p></div><h2 id="施加载荷">4、施加载荷</h2><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165140.png"></p></div><p>位移</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165207.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165235.png"></p></div><h2 id="网格">5、网格</h2><p>网格加密</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165511.png"></p></div><p>指派单元类型为：八结点线性六面体单元</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215165548.png"></p></div><h2 id="提交作业后处理">6、提交作业后处理</h2><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250215170331.png"></p></div><div class="note note-success">            <p>参考： 1.https://www.bilibili.com/video/BV1hbpeehEwX/?spm_id_from=333.337.search-card.all.click&amp;vd_source=33b50a4dd201d7564e6e63d321809ce9</p>          </div><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">常见的勾股拉伸件断裂模拟</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/%E6%A1%88%E4%BE%8B/"/>
    
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/tags/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/tags/%E6%A1%88%E4%BE%8B/"/>
    
    <category term="拉伸件" scheme="http://example.com/tags/%E6%8B%89%E4%BC%B8%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>批量重命名代码</title>
    <link href="http://example.com/2025/02/14/047%20%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D%E4%BB%A3%E7%A0%81/"/>
    <id>http://example.com/2025/02/14/047%20%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D%E4%BB%A3%E7%A0%81/</id>
    <published>2025-02-14T12:23:00.000Z</published>
    <updated>2025-02-20T01:28:19.195Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/14 晚上</p>          </div><p>运行示例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python batch-rename.py -i A:/script/new -o new1 -n <span class="hljs-built_in">test</span> -p back -f 1<br></code></pre></td></tr></table></figure><ul><li>-i ：图片文件夹命名</li><li>-o ：输出文件夹名称</li><li>-n ：图片基础名称，默认为“图片”</li><li>-p ：后缀位置，可选front/back</li><li>-f ：序号因子</li></ul><p>代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> argparse<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_args</span>():<br>    parser = argparse.ArgumentParser()<br>    parser.add_argument(<span class="hljs-string">&#x27;-i&#x27;</span>, <span class="hljs-string">&#x27;--image_directory&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">str</span>, default=<span class="hljs-string">&#x27;.\img&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;-o&#x27;</span>, <span class="hljs-string">&#x27;--out_image_directory&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">str</span>, default=<span class="hljs-string">&#x27;img_new&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;-n&#x27;</span>, <span class="hljs-string">&#x27;--name&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">str</span>, default=<span class="hljs-string">&#x27;图片&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;-p&#x27;</span>, <span class="hljs-string">&#x27;--position&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">str</span>, default=<span class="hljs-string">&#x27;front&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;-f&#x27;</span>, <span class="hljs-string">&#x27;--factor&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">float</span>, default=<span class="hljs-number">1</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;-l&#x27;</span>, <span class="hljs-string">&#x27;--link_symbol&#x27;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">str</span>, default=<span class="hljs-string">&#x27;_&#x27;</span>)<br>    <span class="hljs-comment"># 添加其他命令行参数</span><br>    <span class="hljs-keyword">return</span> parser.parse_args()<br><br><span class="hljs-comment"># 自定义排序函数：提取文件名中的数字并按数字大小排序</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_number</span>(<span class="hljs-params">filename</span>):<br>    <span class="hljs-keyword">match</span> = re.search(<span class="hljs-string">r&#x27;\d+&#x27;</span>, filename)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(<span class="hljs-keyword">match</span>.group())<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-comment"># 获取命令行参数</span><br>    args = get_args()<br>    image_directory = args.image_directory<br>    out_image_directory = args.out_image_directory<br>    name = args.name<br>    position = args.position<br>    factor = args.factor<br>    link_symbol = args.link_symbol<br><br>    <span class="hljs-comment"># 获取文件夹路径</span><br>    ul_directory = <span class="hljs-string">&#x27;/&#x27;</span>.join(image_directory.split(<span class="hljs-string">&#x27;/&#x27;</span>)[:-<span class="hljs-number">1</span>])<br>    new_out_image_directory = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;ul_directory&#125;</span>/<span class="hljs-subst">&#123;out_image_directory&#125;</span>&#x27;</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(new_out_image_directory):<br>        os.makedirs(new_out_image_directory)<br><br>    <span class="hljs-comment"># 获取img文件夹内的所有文件</span><br>    files = os.listdir(image_directory)<br><br>    <span class="hljs-comment"># 按照文件名中的数字排序</span><br>    files_sorted = <span class="hljs-built_in">sorted</span>(files, key=extract_number)<br><br>    new_name = <span class="hljs-string">&#x27;图片&#x27;</span><br>    <span class="hljs-comment"># 遍历文件并重命名</span><br>    <span class="hljs-keyword">for</span> index, filename <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(files_sorted):<br>        <span class="hljs-keyword">if</span> position == <span class="hljs-string">&#x27;front&#x27;</span>:<br>            new_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;name&#125;</span><span class="hljs-subst">&#123;link_symbol&#125;</span><span class="hljs-subst">&#123;<span class="hljs-built_in">int</span>(index *factor)&#125;</span>.jpg&#x27;</span><br>        <span class="hljs-keyword">if</span> position == <span class="hljs-string">&#x27;back&#x27;</span>:<br>            new_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;<span class="hljs-built_in">int</span>(index *factor)&#125;</span><span class="hljs-subst">&#123;link_symbol&#125;</span><span class="hljs-subst">&#123;name&#125;</span>.jpg&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            new_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;name&#125;</span><span class="hljs-subst">&#123;link_symbol&#125;</span><span class="hljs-subst">&#123;<span class="hljs-built_in">int</span>(index *factor)&#125;</span>.jpg&#x27;</span>  <span class="hljs-comment"># 你可以根据需要修改文件名格式</span><br>        <br>        <span class="hljs-comment"># 获取文件的完整路径</span><br>        old_file = os.path.join(image_directory, filename)<br>        new_file = os.path.join(new_out_image_directory, new_name)<br>        <br>        <span class="hljs-comment"># 重命名文件</span><br>        os.rename(old_file, new_file)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Renamed: <span class="hljs-subst">&#123;filename&#125;</span> -&gt; <span class="hljs-subst">&#123;new_name&#125;</span>&#x27;</span>)<br><br>    <span class="hljs-comment"># 删除原文件夹</span><br>    <span class="hljs-keyword">try</span>:<br>        os.rmdir(image_directory)<br>    <span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Error: <span class="hljs-subst">&#123;e.strerror&#125;</span>&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;All files have been renamed.&#x27;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">使用python写的一个批量重命名工具</summary>
    
    
    
    <category term="编程" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="Python" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/Python/"/>
    
    
    <category term="Python" scheme="http://example.com/tags/Python/"/>
    
    <category term="工具" scheme="http://example.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="批量重命名" scheme="http://example.com/tags/%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus模拟之应用梁单元做强度分析实例</title>
    <link href="http://example.com/2025/02/13/046%20Abaqus%E6%A8%A1%E6%8B%9F%E4%B9%8B%E5%BA%94%E7%94%A8%E6%A2%81%E5%8D%95%E5%85%83%E5%81%9A%E5%BC%BA%E5%BA%A6%E5%88%86%E6%9E%90%E5%AE%9E%E4%BE%8B/"/>
    <id>http://example.com/2025/02/13/046%20Abaqus%E6%A8%A1%E6%8B%9F%E4%B9%8B%E5%BA%94%E7%94%A8%E6%A2%81%E5%8D%95%E5%85%83%E5%81%9A%E5%BC%BA%E5%BA%A6%E5%88%86%E6%9E%90%E5%AE%9E%E4%BE%8B/</id>
    <published>2025-02-13T07:07:00.000Z</published>
    <updated>2025-02-20T01:34:46.148Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/13 下午</p>          </div><a class="btn" href="https://www.bilibili.com/video/BV1SK4y147Z8?spm_id_from=333.788.videopod.episodes&vd_source=33b50a4dd201d7564e6e63d321809ce9&p=12"  title="案例视频" target="_blank">案例视频</a><h2 id="案例条件">1、案例条件</h2><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213150823.png"></p></div><div class="note note-info">            <p>问题分析</p>          </div><p>此单元应使用梁单元，降低建模以及计算复杂度。</p><p>梁的截面</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213151329.png"></p></div><h2 id="创建模型">2、创建模型</h2><p>模型选择三维线，更改大致尺寸为10（本次案例采用m单位制）</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213151512.png"></p></div><p>可以先绘制一个矩形然后删除</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213151755.png"></p></div><h2 id="创建材料及剖面">3、创建材料及剖面</h2><p>这里可创建剖面</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213152328.png"></p></div><h2 id="创建截面并赋予截面">4、创建截面并赋予截面</h2><p>这里会自动识别</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213152521.png"></p></div><h2 id="定义梁的方向并装配固定">5、定义梁的方向并装配固定</h2><p>需要按住Shitf进行加选</p><p>这一步没太看懂什么意思</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213153029.png"></p></div><blockquote><p>显示梁的结构剖面</p></blockquote><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213153143.png"></p></div><h2 id="创建分析步">6、创建分析步</h2><p>打开几何非线性</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213153254.png"></p></div><h2 id="施加载荷">7、施加载荷</h2><p>固定和集中力</p><blockquote><p>需要按住Shitf进行加选</p></blockquote><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213153758.png"></p></div><h2 id="划分网格并提交计算">8、划分网格并提交计算</h2><p>选择部件</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213153956.png"></p></div><h2 id="后处理">9、后处理</h2><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213154643.png"></p></div><p>查看位移值为0.0158，对比计算的为0.0154</p><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">应用梁单元做强度分析实例</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/%E6%A1%88%E4%BE%8B/"/>
    
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/tags/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/tags/%E6%A1%88%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>mathtype在word中不显示问题</title>
    <link href="http://example.com/2025/02/12/045%20mathtype%E5%9C%A8word%E4%B8%AD%E6%98%BE%E7%A4%BA/"/>
    <id>http://example.com/2025/02/12/045%20mathtype%E5%9C%A8word%E4%B8%AD%E6%98%BE%E7%A4%BA/</id>
    <published>2025-02-12T08:11:00.000Z</published>
    <updated>2025-02-20T01:34:42.895Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/12 下午</p>          </div><div class="note note-warning">            <p>安装好的mathtype在word导航栏中不显示</p>          </div><p>定位mathtype安装目录，复制这3个文件到<code>C:\Users\**\AppData\Roaming\Microsoft\Word\STARTUP</code></p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212162700.png"></p></div><p>重新打开word即可。</p><p>如果还想将mathtype添加到ppt中，需要打开加载项，转到加载项</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212163056.png"></p></div><p>添加插件即可</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212163107.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212163136.png"></p></div><p>如果不知道如何找mathtype和word安装位置，可以在搜索框搜索，然后右键打开文件位置</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212163423.png"></p></div><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">解决mathtype在word中不显示问题</summary>
    
    
    
    <category term="科研" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/"/>
    
    
    <category term="科研" scheme="http://example.com/tags/%E7%A7%91%E7%A0%94/"/>
    
    <category term="mathtype" scheme="http://example.com/tags/mathtype/"/>
    
  </entry>
  
  <entry>
    <title>zotero实现标注自动打标签</title>
    <link href="http://example.com/2025/02/12/044%20zotero%E5%AE%9E%E7%8E%B0%E6%A0%87%E6%B3%A8%E8%87%AA%E5%8A%A8%E6%89%93%E6%A0%87%E7%AD%BE/"/>
    <id>http://example.com/2025/02/12/044%20zotero%E5%AE%9E%E7%8E%B0%E6%A0%87%E6%B3%A8%E8%87%AA%E5%8A%A8%E6%89%93%E6%A0%87%E7%AD%BE/</id>
    <published>2025-02-12T02:54:00.000Z</published>
    <updated>2025-02-20T01:36:18.314Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/12 上午</p>          </div><p>目的：根据标签定位到标注</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212110313.png"></p></div><p>首先下载安装zotero软件以及<code>zotero-actions-tags</code>插件</p><p>设置插件，新建动作，新建注释时触发，并自定义脚本，粘贴下属代码</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212105727.png"></p></div><p>代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 注释：根据注释颜色更新标签（移除旧标签并添加新标签）</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span> 通过注释颜色自动更新标签，包括移除旧标签并添加新标签</span><br><span class="hljs-comment"> * </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> appwcn windingwind</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@link</span> https://github.com/windingwind/zotero-actions-tags/discussions/339</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// 定义颜色与标签的映射（请更换成自己的颜色和标签）</span><br><span class="hljs-keyword">const</span> tags = &#123;<br>    <span class="hljs-string">&quot;#ffd400&quot;</span>: <span class="hljs-string">&quot;结论&quot;</span>,<br>    <span class="hljs-string">&quot;#0033ff&quot;</span>: <span class="hljs-string">&quot;摘录&quot;</span>,<br>    <span class="hljs-string">&quot;#ff4349&quot;</span>: <span class="hljs-string">&quot;原因&quot;</span><br>&#125;;<br><br><br><span class="hljs-keyword">const</span> allTags = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(tags);<br><br><br><span class="hljs-keyword">if</span> (!item) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;No item provided.&quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span> (!item.<span class="hljs-title function_">isAnnotation</span>() || !item.<span class="hljs-property">annotationColor</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;This item is not an annotation or has no color.&quot;</span>;<br>&#125;<br><br><br><span class="hljs-keyword">const</span> annotationColor = item.<span class="hljs-property">annotationColor</span>.<span class="hljs-title function_">toLowerCase</span>();<br><span class="hljs-keyword">const</span> newTag = tags[annotationColor];<br><br><br><span class="hljs-keyword">const</span> title = item.<span class="hljs-title function_">getField</span>(<span class="hljs-string">&#x27;title&#x27;</span>);<br><br><br><span class="hljs-keyword">const</span> existingTags = item.<span class="hljs-title function_">getTags</span>().<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">tag</span> =&gt;</span> tag.<span class="hljs-property">tag</span>); <br><span class="hljs-keyword">let</span> removedTags = [];<br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tag <span class="hljs-keyword">of</span> existingTags) &#123;<br>    <span class="hljs-keyword">if</span> (allTags.<span class="hljs-title function_">includes</span>(tag)) &#123;<br>        item.<span class="hljs-title function_">removeTag</span>(tag);<br>        removedTags.<span class="hljs-title function_">push</span>(tag);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-keyword">if</span> (newTag) &#123;<br>    item.<span class="hljs-title function_">addTag</span>(newTag);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`Title: &quot;<span class="hljs-subst">$&#123;title&#125;</span>&quot; | Removed: [<span class="hljs-subst">$&#123;removedTags.join(<span class="hljs-string">&quot;, &quot;</span>)&#125;</span>] | Added: <span class="hljs-subst">$&#123;newTag&#125;</span>`</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (removedTags.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`Title: &quot;<span class="hljs-subst">$&#123;title&#125;</span>&quot; | Removed: [<span class="hljs-subst">$&#123;removedTags.join(<span class="hljs-string">&quot;, &quot;</span>)&#125;</span>] | No new tag added.`</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`Title: &quot;<span class="hljs-subst">$&#123;title&#125;</span>&quot; | No matching tag for color: <span class="hljs-subst">$&#123;annotationColor&#125;</span>.`</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>根据自己的style更改颜色与标签的对应关系。</p><p><code>Shitf + P</code>打开style设置查看颜色对应关系，并复制到代码中</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212110110.png"></p></div><p>效果</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212110213.png"></p></div><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">在标注时，根据标注的颜色自动打标签，方便查阅</summary>
    
    
    
    <category term="科研" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/"/>
    
    
    <category term="科研" scheme="http://example.com/tags/%E7%A7%91%E7%A0%94/"/>
    
    <category term="zotero" scheme="http://example.com/tags/zotero/"/>
    
  </entry>
  
  <entry>
    <title>科研配色</title>
    <link href="http://example.com/2025/02/12/043%20%E7%A7%91%E7%A0%94%E7%BB%98%E5%9B%BE/"/>
    <id>http://example.com/2025/02/12/043%20%E7%A7%91%E7%A0%94%E7%BB%98%E5%9B%BE/</id>
    <published>2025-02-12T00:39:00.000Z</published>
    <updated>2025-02-20T01:29:22.527Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/12 上午</p>          </div><h2 id="绘图样式">绘图样式</h2><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212083935.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250212084458.png"></p></div>]]></content>
    
    
    <summary type="html">收集科研绘图模板，好看的配色，定期收集science插图</summary>
    
    
    
    <category term="科研" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/"/>
    
    
    <category term="科研" scheme="http://example.com/tags/%E7%A7%91%E7%A0%94/"/>
    
    <category term="绘图" scheme="http://example.com/tags/%E7%BB%98%E5%9B%BE/"/>
    
    <category term="配色" scheme="http://example.com/tags/%E9%85%8D%E8%89%B2/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus模拟之裂纹扩展</title>
    <link href="http://example.com/2025/02/11/042%20Abaqus%E6%A8%A1%E6%8B%9F%E4%B9%8B%E8%A3%82%E7%BA%B9%E6%89%A9%E5%B1%95/"/>
    <id>http://example.com/2025/02/11/042%20Abaqus%E6%A8%A1%E6%8B%9F%E4%B9%8B%E8%A3%82%E7%BA%B9%E6%89%A9%E5%B1%95/</id>
    <published>2025-02-11T12:26:00.000Z</published>
    <updated>2025-02-24T02:27:33.184Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/24 上午</p>          </div><h2 id="基本知识">基本知识</h2><h3 id="三种解释缺陷理论">三种解释缺陷理论</h3><ol type="1"><li><strong>基于裂纹的断裂力学理论</strong>：线弹性断裂力学（LEFM）的理论以初始裂纹或缺陷存在为基础，采用热力学定律来制定基于能量的断裂准则。</li><li><strong>基于连续介质的塑性力学理论</strong>：塑性力学理论是处理塑性变形的成熟理论，它以各种局部失效准则以及局部状态变量（如应力张量和弹塑性应变分量）为基础。大多数塑性的裂纹分析都是基于弥散裂缝的软化塑性模型。塑性模型既能预测裂纹的萌生又能预测裂纹的扩展，可以方便地用不同的数值方法实现。</li><li><strong>基于连续介质的损伤力学理论</strong>：损伤力学理论是一种非局部方法（类似于断裂力学），其公式与塑性软化理论相似。在损伤力学中如果材料受到某种程度的损伤，其强度和刚度都会降低，这与经典的塑性理论形成对比，经典塑性理论中刚度保持不变，只有强度根据软化行为更新。</li></ol><h3 id="损伤力学与断裂力学">损伤力学与断裂力学</h3><ol type="1"><li>问题层次不同。二者是同一问题的不同层次，是固体力学中描述材料破坏过程的破坏理论。</li><li>尺度不同。大于1mm裂纹尖端就必须考虑应力奇异性，损伤力学小于1mm，断裂力学大于1mm。</li><li>模型不同。断裂力学针对一个或若干个主裂纹，研究含裂纹模型的奇异缺陷的扩展规律（裂纹剪短应力场具有奇异性）。损伤力学：研究材料的分布型细观缺陷的扩展和含有细观缺陷的材料的力学性质。</li><li>损伤力学分析材料从变形到破坏，损伤逐渐积累的整个过程；断裂力学分析裂纹扩展过程。</li><li>断裂力学基本上是用来处理强不连续性（裂纹）问题，其中位移场和应变场在裂纹表面都是不连续的；损伤力学和塑性力学的理论基本上是针对位移场（通常是应变场）在任何地方都保持连续的问题而设计的。</li></ol><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224082920.png"></p></div><h3 id="模拟方法">模拟方法</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224083459.png"></p></div><ol type="1"><li><strong>基于经典断裂力学</strong>。断裂力学模型就是基于线弹性断裂力学及其基础上发展的弹塑性断裂力学；如果不考虑裂纹的扩展，abaqus可采用seam型裂纹来分析（也可以不建seam,如notch型裂纹）seam型裂纹：一条缝；notch型裂纹：切口，槽口】，这就是基于断裂力学的方法。这种方法可以计算裂纹的<strong>应力强度因子，J积分及T-应力</strong>等。</li><li><strong>基于损伤力学</strong>。损伤力学模型是指基于损伤力学发展而来的方法单元在达到失效的条件后，刚度不断折减，并可能达到完全失效，最后形成断裂带。【DamageEvolution中的所有的选项都是用来确定单元达到强度极限以后的刚度降阶方式。】</li></ol><h3 id="基于扩展有限元法xfem">基于扩展有限元法XFEM</h3><p>从abaquse6.9版本开始还引入了扩展有限元法(XFEM),它既可以模拟静态裂纹，计算应力强度因子和J积分等参量，也可以模拟裂纹的开裂过程。</p><p>相比于内聚力模型的断裂建模方法只允许裂纹沿着预定的路径扩展，粘结界面和单元边界重合。扩展有限元无需定义裂纹扩展路径，可以模拟任意方向的裂纹扩展。</p><h4 id="原理">原理</h4><ol type="1"><li>节点富集函数</li><li>水平集函数</li><li>建立有限元求解的扩展有限元法控制方程</li></ol><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224085201.png"></p></div><h4 id="方法">方法</h4><ol type="1"><li>基于牵引分离规侧的损伤力学：（适用于弹塑性损伤分析）<ol type="1"><li>ABAQUS基于XFEM框架模拟裂缝扩展的一种方法是基于粘结分离行为，其用于控制裂缝扩展的的公式和规侧与用于具有牵引分离本构行为的内聚单元非常相似，可适用于弹塑性分析。</li><li><strong>牵引分离模型</strong>假设裂缝单元最初是线性弹性行为，随后是<strong>损伤的发生和演化</strong>。</li></ol></li></ol><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224090456.png"></p></div><p>损伤模型用来模拟富集单元的退化和最终失效；失效机理由两个成分组成：损伤起始准则和损伤演化规律；富集单元在纯压缩下不会受到损伤。【扩展有限元法不能模拟纯压缩破坏】</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224090047.png"></p></div><p>损伤演化规律描述了一旦达到相应的起始标准，材料刚度退化的速率</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224090126.png"></p></div><blockquote><p>在有限元中一般使用能量定义损伤，软化方式为显线性</p></blockquote><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224090841.png"></p></div><p>损伤稳定粘性</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250224090918.png"></p></div><ol start="2" type="1"><li>基于线弹性断裂力学：（仅适用于弹性分析）裂纹扩展描述的角度。<ol type="1"><li>仅适用于弹性分析，基于XFEM的线性弹性断裂力学方法的行为的公式和规律与用于沿已知和部分粘合的表面模拟分层的方法非常相似[上节课提到的VCCT方法]。</li><li>虚拟裂缝闭合技术(VCCT):是一种基于线弹性理论的裂缝分析方法，这个技术是根据Irw能量理论提出来的，其核心思想为：假设裂纹在扩展中释放的能量等于闭合裂纹所需要的能量。</li></ol></li></ol><h3 id="基于内聚力模型模拟裂缝扩展">基于内聚力模型模拟裂缝扩展</h3><a class="btn" href="https://www.bilibili.com/video/BV19d4y1R74S?spm_id_from=333.788.videopod.sections&vd_source=33b50a4dd201d7564e6e63d321809ce9"  title="裂纹扩展专题" target="_blank">裂纹扩展专题</a><p>目前国内外学者利用内聚力模型研究裂纹尖端塑性变形、静力和疲劳载荷条件下的蠕变开裂，以及金属、岩土材料及混凝土、复合材料及纳米晶材料裂纹萌生与裂纹扩展。</p><p>内聚力模型的特征是在分离界面间设定牵引分离法则，ABAQUS中牵引分离法则有多种应用形式。</p><ol type="1"><li>基于实体cohesive!单元的内聚力模型。基于实体cohesive.单元的内聚力模型需要详细的胶层材料特性、胶层与被粘结部件之间网格的直接绑定以及有限厚度胶层的建模等。通过设置损伤起始准则和损伤演化准则等相关参数可实现裂纹扩展问题的模拟。比如胶合木，针对中间胶结层可设置内聚力单元。</li><li>基于界面接触的内聚力行为。基于界面接触的内聚力行为，被定义为表面相互作用的性质，利用牵引分离本构模型来模拟具有可忽略的小界面厚度的粘结连接。该方法用宏观内聚规律将复杂的断裂机制理想化，将界面牵引力与分离联系起来。多用于可以预见裂纹扩展路径的情况下，比如层合板。</li><li>基于扩展有限元的内聚力法则。上述两种断裂建模方法只允许裂纹沿着预定的路径扩展，粘结界面和单元边界重合。基于牵引分离准则的XFEM则无需提前定义裂纹扩展路径，可以模拟任意方向的裂纹扩展</li></ol><h2 id="实例1">实例1</h2><div class="note note-info">            <p>案例需求</p>          </div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211203759.png"></p></div><h3 id="创建铁板">1、创建铁板</h3><p>在<code>Part</code>界面创建一个<code>40x40x5</code>的铁板。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211203656.png"></p></div><h3 id="创建裂纹">2、创建裂纹</h3><p>需要将绘制一个<code>平面</code>嵌入到铁板中完成裂纹的创建</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211204047.png"></p></div><p>创建成功</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211204204.png"></p></div><h3 id="创建材料">3、创建材料</h3><ul><li>弹性<ul><li>杨氏模量：206000</li><li>泊松比：0.3</li></ul></li><li>塑性<ul><li>许用应力：1000</li><li>塑性应力：0</li></ul></li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211205424.png"></p></div><ul><li>损伤<ul><li>类型：Maxps【最大主应变】</li><li>最大主应变损伤250</li></ul></li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211205556.png"></p></div><ul><li>添加子选项：损伤演变<ul><li>破坏位移：0.01</li></ul></li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211205639.png"></p></div><h3 id="创建截面">4、创建截面</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211210002.png"></p></div><p>赋予给part-1</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211210047.png"></p></div><h3 id="装配">5、装配</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211210525.png"></p></div><h3 id="创建分析步">6、创建分析步</h3><p>打开几何非线性性更容易收敛</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211210758.png"></p></div><h3 id="相互作用">7、相互作用</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211211137.png"></p></div><p>拾取位置</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211211243.png"></p></div><h3 id="场输出设置">8、场输出设置</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211211521.png"></p></div><p>主要是勾选这两个</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211211853.png"></p></div><p>输出100次</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212029.png"></p></div><h3 id="网格">9、网格</h3><p>只需要给铁板绘制网格即可，裂纹面不需要绘制。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212159.png"></p></div><p>划分网格</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212306.png"></p></div><p>网格属性</p><ul><li>勾选沙漏控制</li><li>单元删除</li><li>指定最大下降</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212451.png"></p></div><h3 id="添加约束条件">10、添加约束条件</h3><p>底端固定</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212725.png"></p></div><p>顶端向上拉120MPa</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211212915.png"></p></div><h3 id="创建作业并提交计算">11、创建作业并提交计算</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211213244.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250211215558.png"></p></div>]]></content>
    
    
    <summary type="html">钢管裂纹扩展的 XFEM 方法</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/"/>
    
    <category term="案例" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/%E6%A1%88%E4%BE%8B/"/>
    
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/tags/Abaqus/"/>
    
    <category term="裂纹扩展" scheme="http://example.com/tags/%E8%A3%82%E7%BA%B9%E6%89%A9%E5%B1%95/"/>
    
    <category term="案例" scheme="http://example.com/tags/%E6%A1%88%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>文献写作词句</title>
    <link href="http://example.com/2025/02/11/041%20%E6%96%87%E7%8C%AE%E5%86%99%E4%BD%9C%E8%AF%8D%E5%8F%A5/"/>
    <id>http://example.com/2025/02/11/041%20%E6%96%87%E7%8C%AE%E5%86%99%E4%BD%9C%E8%AF%8D%E5%8F%A5/</id>
    <published>2025-02-11T00:29:00.000Z</published>
    <updated>2025-02-20T01:30:07.798Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/11 上午</p>          </div><h2 id="section">2025-02-11</h2><div class="note note-info">            <p>原文： 【<strong>This knowledge plays a vital role in process andchemical safety as well as in fuel design</strong>】</p><p>翻译：<em>这些知识在工艺和化学安全以及燃料设计中起着至关重要的作用</em></p><p>写作建议：<span class="label label-primary">起着关键作用</span> <spanclass="label label-info">3并列</span></p>          </div>]]></content>
    
    
    <summary type="html">收录文献阅读中的好词好句以及好的表达方式</summary>
    
    
    
    <category term="科研" scheme="http://example.com/categories/%E7%A7%91%E7%A0%94/"/>
    
    
    <category term="科研" scheme="http://example.com/tags/%E7%A7%91%E7%A0%94/"/>
    
    <category term="写作" scheme="http://example.com/tags/%E5%86%99%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>拥有自己的Deepseek大模型</title>
    <link href="http://example.com/2025/02/10/040%20%E7%A1%85%E5%9F%BA%E6%B5%81%E5%8A%A8%E9%85%8D%E7%BD%AEDeepseek%E5%A4%A7%E6%A8%A1%E5%9E%8B/"/>
    <id>http://example.com/2025/02/10/040%20%E7%A1%85%E5%9F%BA%E6%B5%81%E5%8A%A8%E9%85%8D%E7%BD%AEDeepseek%E5%A4%A7%E6%A8%A1%E5%9E%8B/</id>
    <published>2025-02-10T01:41:00.000Z</published>
    <updated>2025-02-20T01:37:44.069Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/10 上午</p>          </div><h2 id="打开硅基流动官网注册账号">1、打开硅基流动官网注册账号</h2><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210095231.png"></p></div><a class="btn" href="https://siliconflow.cn/zh-cn/"  title="硅基流动官网" target="_blank">硅基流动官网</a><blockquote><p>硅基流动专为大模型微调与托管打造的一站式服务平台。通过该平台，用户可以快速、无缝地将自定义模型部署为服务，并根据自己上传的数据进行模型微调。</p></blockquote><p>填写邀请码<code>NShCQzWq</code>，这样的话双方均能获得<code>2000w token</code></p><h2id="下载客户端cherry-studio部署">2、下载客户端<code>Cherry studio</code>部署</h2><a class="btn" href="https://docs.cherry-ai.com/cherrystudio/download"  title="Cherry studio download" target="_blank">Cherry studio download</a><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210095741.png"></p></div><h2 id="获取api密钥">3、获取api密钥</h2><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210095840.png"></p></div><p>粘贴入<code>Cherry studio</code></p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210095942.png"></p></div><p>点击检查，选择<code>deepseek-ai/DeepSeek-R1</code>模型</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210100040.png"></p></div><h2 id="开始聊天">4、开始聊天</h2><p>在聊天窗口可切换模型，目前<code>deepseek-ai/DeepSeek-R1</code>有深度思考功能，但速度略慢，<code>deepseek-ai/DeepSeek-V3</code>速度较快。</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210100315.png"></p></div><div class="note note-success">            <p>完成</p>          </div>]]></content>
    
    
    <summary type="html">硅基流动配置Deepseek大模型</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="大模型" scheme="http://example.com/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"/>
    
    <category term="Deepseek" scheme="http://example.com/tags/Deepseek/"/>
    
  </entry>
  
  <entry>
    <title>Vscode基于aliyun配置Picgo</title>
    <link href="http://example.com/2025/02/09/039%20Vscode%E9%85%8D%E7%BD%AEPicgo/"/>
    <id>http://example.com/2025/02/09/039%20Vscode%E9%85%8D%E7%BD%AEPicgo/</id>
    <published>2025-02-09T13:46:00.000Z</published>
    <updated>2025-02-20T01:37:49.468Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/09 晚上</p>          </div><p>步骤</p><ol type="1"><li>在vscode扩展商店中下载<code>picgo</code>插件</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221048-2025-02-09.png"></p></div><ol start="2" type="1"><li>点击插件设置，填写必须的信息</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221146-2025-02-09.png"></p></div><ol start="3" type="1"><li>先将上传图床切换成阿里云图床</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221252-2025-02-09.png"></p></div><ol start="4" type="1"><li>创建Bucket</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221357-2025-02-09.png"></p></div><ol start="5" type="1"><li>填写名称，点击创建。</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221451-2025-02-09.png"></p></div><ol start="6" type="1"><li>进入Bucket，修改读写权限为<code>公共权限</code></li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221734-2025-02-09.png"></p></div><ol start="7" type="1"><li>在Bucket中创建文件夹，不创建也可，我这里创建一个vscode文件夹</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209221713-2025-02-09.png"></p></div><ol start="8" type="1"><li>获取存储空间名称及Bucket域名，记录为param1、param2、param3</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209222501-2025-02-09.png"></p></div><ol start="9" type="1"><li>获取访问apikey及秘钥，记录为param4、param4</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209222618-2025-02-09.png"></p></div><ol start="10" type="1"><li>将信息填写到vscode插件中</li></ol><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209222739-2025-02-09.png"></p></div><blockquote><p>！！！切记这里填写<code>Custom Url</code>时需在前面加<code>https://</code></p></blockquote><div class="note note-info">            <p>配置完成</p>          </div><p>可以使用snipaste软件或者qq截图软件截图复制到剪贴板，然后再vscode中点击快键键<code>Ctrl+Alt+U</code>粘贴入笔记中</p><p>附上上传的3中方式及快捷键，用的最多的就是截图上传。</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209223514-2025-02-09.png"></p></div><div class="note note-warning">            <p>注意事项</p>          </div><p>我这里想插入到笔记中后以html格式插入方便修改图片大小，所以将返回格式写成了这种<code>&lt;div style="width: 60%; margin: auto"&gt;\n  &lt;img src="$&#123;url&#125;"&gt;\n&lt;/div&gt;</code>，其中<code>\n</code>代表换行符，如果你不喜欢这种可以使用markdown原本的格式<code>![$&#123;uploadedName&#125;]($&#123;url&#125;)</code></p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209222902-2025-02-09.png"></p></div><p>呈现的效果</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250209223108-2025-02-09.png"></p></div>]]></content>
    
    
    <summary type="html">实现粘贴图片一键上传云端</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Picgo" scheme="http://example.com/tags/Picgo/"/>
    
    <category term="Vscode" scheme="http://example.com/tags/Vscode/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus学习笔记</title>
    <link href="http://example.com/2025/02/09/038%20Abaqus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2025/02/09/038%20Abaqus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2025-02-09T13:20:00.000Z</published>
    <updated>2025-02-22T13:13:31.395Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/22 上午</p>          </div><h2 id="基本介绍">1、基本介绍</h2><a class="btn" href="https://www.bilibili.com/video/BV1j64y1s7Qp?spm_id_from=333.788.videopod.episodes&vd_source=33b50a4dd201d7564e6e63d321809ce9&p=2"  title="学习视频" target="_blank">学习视频</a><h3 id="abaqus的基本功能">1.1 Abaqus的基本功能</h3><ol type="1"><li>计算结构的力学性能——&gt;结构场：静力学动力学（线性非线性）冲击断裂|复材等</li><li>计算结构的热力学性能——&gt;温度场+结构场：稳态、瞬态、线性、非线性</li><li>计算流体的动力学性能——&gt;流场：流速、压力、温度、稳态、瞬态</li><li>计算结构的电磁场性能——&gt;电场/磁场：电感、电容、磁通量、涡流等</li><li>计算结构的NVH性——&gt;结构场+声场：声压、声功率等</li><li>计算耦合场性能——&gt;热结构耦合、热流耦合、热电耦合、流固耦合</li><li>计算结构的优化——&gt;参数优化、非参数优化</li></ol><h3 id="文件系统">1.2 文件系统</h3><ol type="1"><li><strong>数据库文件</strong><ol type="1"><li>模型数据库（.cas）：在Abaqus/CAE中直接打开，包含几个模型、网格、载荷信息及分析任务等；</li><li>结果数据库文件（.odb）：可在Abaqus/CAE中直接打开，也可输入到CAE文件中作为不见或模型，包含在<code>分析步模块</code>中定义的场变量和历史变量输出结果，可以由可视化模块打开。</li></ol></li><li><strong>输入文件</strong><ol type="1"><li><strong>inp文件</strong>：文本文件，可在作业(Job)模块中提交任务时或单击分析作业管理器中的WriteInput按钮在工作目录中生成。Inp文件可以输入模型，也可以由ABAQUSCommand直接运行，inp文件输入的模型只包含有限元模型而无几何模型；</li><li><strong>pes文件</strong>：参数更改后重新的inp文件；</li><li><strong>Par文件</strong>：参数更改后重写的以参数形式运行的inp文件。</li></ol></li><li><strong>日志文件</strong>：Log文件：文本文件，运行ABAQUS的日志。</li><li><strong>数据文件</strong>：Dat文件：文本文件，记录数据和参数检查、单元质量检查等信息，包含预处理inp文件产生的错误和警告信息。包含用户定义的ABAQUS/standard输入数据，ABAQUS/Explicit的结果不会写入其中。</li><li><strong>信息文件</strong><ol type="1"><li><strong>MSG文件</strong>：记录计算过程中的平衡迭代次数、参数设置、计算时间、错误与警告信息等；</li><li><strong>Ipm文件</strong>：气动ABAQUS、CAE分析时开始写入，记录从ABAQUS/Standard或ABAQUS/Explicit到ABAQUS、CAE的过程日志；</li><li><strong>Prt文件</strong>：模型的部件或装配信息；</li><li><strong>Pac文件</strong>：模型信息，仅用于ABAQUS/Explicit。</li></ol></li><li><strong>状态文件</strong><ol type="1"><li><strong>Sta文件</strong>：文本文件，包含分析过程信息；</li><li><strong>Abq文件</strong>：仅用于ABAQUS/Explicit，记录分析、继续和恢复命令；</li><li><strong>Stt文件</strong>：运行数据检查时产生的文件；</li><li><strong>Psr文件</strong>：文本文件，参数化分析要求的输入结果；</li><li><strong>Sel文件</strong>：用于结果选择，仅用于ABAQUS/Explicit。</li></ol></li><li><strong>模型文件</strong>：MDL文件：ABAQUS/Standard与ABAQUS/Explicit中运行数据产生的文件。</li><li><strong>保存命令的文件</strong><ol type="1"><li><strong>Jnl文件</strong>：文本文件，包含于复制已存储的模型数据库的ABAQUS/CAE命令</li><li><strong>Rpy文件</strong>：记录运行一次ABAQUS/CAE所所运用的所有命令</li><li><strong>Rec文件</strong>：包含用于恢复内存中模型数据库的ABAQUS/CAE命令</li></ol></li><li><strong>重启动文件</strong>：Res文件：使用step功能模块进行定义</li><li><strong>脚本文件</strong>：Psf文件：用户定义参数化研究时需要创建的文件</li><li><strong>临时文件</strong><ol type="1"><li><strong>Ods文件</strong>：记录长输出变量的临时运算结果，运行后自动删除</li><li><strong>lck文件</strong>：用于阻止并发写入输出数据库，关闭输出数据库时自动删除</li></ol></li></ol><blockquote><p>在Part导入模块时尽量不要导入igs文件，igs只会包含表面信息。</p></blockquote><h3 id="模块介绍">1.3 模块介绍</h3><ol type="1"><li><strong>Part</strong>：进行零部件建模(3D、2D、轴对称)、模型编辑及修复(去除烂面、抽取中面、模型切割等)</li><li><strong>Property</strong>；创建材料以及截面，完成属性的指派</li><li><strong>Assembly</strong>：组件装配体用于后续分析</li><li><strong>Step</strong>：创建分析步及定义输出</li><li><strong>Interaction</strong>：创建相互作用，包括接触、耦合、弹簧单元、质量单元、焊点等</li><li><strong>Load</strong>：施加载荷、约束以及模型初始条件</li><li><strong>Mesh</strong>：进行网格划分以及单元类型设定</li><li><strong>Optinizatio</strong>n：创建优化任务</li><li><strong>Job</strong>：创建作业以及求解</li><li><strong>Visualization</strong>：可视化后处理</li><li><strong>Sketch</strong>：创建草图，可用于零部件建模</li></ol><h3 id="单位制问题">1.4 单位制问题</h3><p>最常用的单位又<code>mm-T-s</code>和<code>m-kg-s</code>两种</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250210165813.png"></p></div><h3 id="操作技巧">1.5 操作技巧</h3><ol type="1"><li><code>ctrl+shift+中键</code>：移动</li><li><code>ctrl+shift+左键</code>：旋转</li><li><code>ctrl+shift+右键</code>：缩放</li></ol><h2 id="part模块">2、Part模块</h2><a class="btn" href="https://www.bilibili.com/video/BV1j64y1s7Qp?spm_id_from=333.788.videopod.episodes&vd_source=33b50a4dd201d7564e6e63d321809ce9&p=3"  title="学习视频" target="_blank">学习视频</a><p>选择面或者线时：要按住<code>Alt</code>键</p><h2 id="属性模块">3、属性模块</h2><a class="btn" href="https://www.bilibili.com/video/BV1F7NbeXEtq/?spm_id_from=333.337.search-card.all.click&vd_source=33b50a4dd201d7564e6e63d321809ce9"  title="ABAQUS 属性模块详细教程" target="_blank">ABAQUS 属性模块详细教程</a><p>属性界面功能</p><ol type="1"><li>设置材料特性</li><li>设计界面特性</li><li>定义弹簧、阻尼器和实体表面壳等</li></ol><p>材料属性三步曲</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213142620.png"></p></div><blockquote><p>一定要注意单位问题</p></blockquote><h3 id="创建材料">3.1 创建材料</h3><p>属性获取</p><ul><li>论文</li><li>力学性能试验</li><li>《有限元常用材料参数手册》</li><li>https://www.matweb.com/</li></ul><p>可在导入的材料库中双击添加</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213145331.png"></p></div><h3 id="创建截面">3.2 创建截面</h3><p>abaqus不能将材料直接赋予给模型，需要先创建包含材料属性的截面，再将截面属性分配给模型区域。</p><div class="note note-info">            <p>常用截面类型</p>          </div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213145659.png"></p></div><ul><li>实体：用于定义实体的截面特性，一般选用的类型为均质实体；</li><li>壳：用于定义壳体的截面特性，常用类型为均质和膜等；</li><li>梁：用于定义梁的截面特性，包括梁和桁架，在创建梁的截面特性前，需要先定义梁的横截面形状和尺寸。</li></ul><blockquote><p>注意：对于均质壳截面，实际可以把厚度显示出来，正常显示的位置为中间层，在装配时要考虑壳的厚度。</p></blockquote><h3 id="指定截面">3.3 指定截面</h3><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250213150230.png"></p></div><h3 id="损伤准则">3.4 损伤准则</h3><p>模拟裂纹扩展需要设定损伤准则，一般使用延性金属损伤准则和服从traction-separation损伤准则。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222203739.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222204042.png"></p></div><h3 id="应力应变关系">3.5 应力应变关系</h3><p><strong>几种典型的应力应变关系</strong></p><ul><li>理想弹性</li><li>理想塑性</li><li>双线性模型</li><li>非线性模型</li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222204859.png"></p></div><p><strong>导致非线性应力应变的因素</strong></p><ul><li>应力应变水平</li><li>时间因素（应力/应变变化率）</li><li>温度时间效应（蠕变、松弛）</li><li>温度效应</li></ul><p><strong>线弹性本构关系</strong></p><p>弹性模量E、剪切模量G、体积模量K、泊松比v和拉梅常数<spanclass="math inline">\(\lambda\)</span></p><p>可由随意两个推出其他常数</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222205108.png"></p></div><p><strong>损伤力学与断裂力学</strong></p><p>断裂力学建立决定裂纹扩展的物理量与材料抵抗裂纹扩展能力（断裂韧性）之间的关系。研究剪短附近的应力场和应变场、应力强度因子、能量释放率等，建立宏观裂纹起裂、稳定扩展和失稳扩展的判据。</p><p>损伤力学定义损伤变量，建立考虑损伤的本构关系及损伤演化方程。</p><p>损伤力学研究内容</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222210511.png"></p></div><h2 id="装配">4、装配</h2><h2 id="分析步">5、分析步</h2><h3 id="分析步的类型及特点">5.1 分析步的类型及特点</h3><ol type="1"><li>静力通用<ol type="1"><li>模拟换那么加载下的相应</li><li>不考虑惯性和阻尼效应[^1]</li><li>重力等简单载荷</li></ol></li><li>动力隐式<ol type="1"><li>模拟动态载荷下的响应</li><li>复杂集合材料行为的高度非线性问题，如接触和塑性变形</li><li>汽车碰撞、金属成型</li></ol></li><li>动力显式<ol type="1"><li>模拟快速动态事件</li><li>材料和集合非线性问题复杂变形和接触问题</li><li>高速冲击、爆炸</li></ol></li></ol><h4 id="静力通用">5.1.1 静力通用</h4><p>此设置中的<strong>时间长度并非实际物理意义上的时间长度</strong>，类似于份的概念，比如这里有1份</p><p>若模拟过程中需要有大变形，则需<strong>打开几何非线性</strong></p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250216153023-2025-02-16.png"></p></div><p>图中设置的增量含义：</p><ul><li>最大步数为100：如果在迭代过程中迭代步达到100还没有收敛就会报错，提示用户模型的收敛性太差了。</li><li>增量不步初始大小，表示模拟会先试用初始步进行迭代，如果没有收敛会使用二分法逐渐减半，直到达到最小还没有收敛就会报错。</li></ul><p>在指派网格单元类型时，需要使用<code>隐式算法</code></p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250216153620-2025-02-16.png"></p></div><h4 id="动力隐式">5.1.2 动力隐式</h4><blockquote><p>动力隐式分析步与静力通用分析步设置时间长度、最大步数、增量以及单元格类型指派含义相同，但会默认打开几何非线性</p></blockquote><p>特征</p><ol type="1"><li>利用迭代求解下个增量步的未知量</li><li>无条件稳定，任何大小的增量皆可让结果在一定范围内</li><li>有计算收敛问题</li></ol><h4 id="动力显式">5.1.3 动力显式</h4><p>特征</p><ol type="1"><li>仅考虑前一时刻状态</li><li><strong>有条件稳定，增量必须小于一临界值，才会提供可靠的结果</strong></li><li>无计算收敛问题</li></ol><p>此设置中<strong>时间长度具有实际物理意义</strong>，比如说一个爆炸行为在0.01s完成，这里的时间步长就要设置为0.01s。</p><p>增量是通过软件在计算过程中会自动调整，一般可不设置。</p><p>在动力显式算法中有个重要概念为<code>质量缩放</code></p><ul><li><strong>含义</strong>：缩放密度改变计算时间</li><li><strong>目的</strong>：提高计算效率</li><li><strong>类型</strong><ul><li>按系数质量缩放：若设置为100，质量就会增大100倍，<spanclass="math inline">\(\sqrt{100}=10\)</span>倍的时间缩放。若我们不知道模型的质量缩放系数在多少合适，只知道在0.1s内就算完啦，可以使用目标时间质量缩放。</li><li>按目标时间质量缩放：若设置为<spanclass="math inline">\(1e^{-5}\)</span>，即增量步小于这个值时，质量会增大</li></ul></li></ul><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250216154845-2025-02-16.png"></p></div><p>动力方程，由<code>F=ma</code>求出加速度，在用差值求出速度，再求出位移</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222085212.png"></p></div><p>在指派网格单元类型时需要选择<code>Explicit</code>显式算法，保证算法的统一</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250216155046-2025-02-16.png"></p></div><blockquote><ol type="1"><li>显示将问题拆成许多增量求解，必须开启双精度，避免计算过程中误差累计</li></ol></blockquote><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250222084725.png"></p></div><h3 id="几何非线性">5.2 几何非线性</h3><ol type="1"><li>线性：线性摄动分析步适合用于小变形问题。通过线性化处理来简化计算过程。</li><li>非线性：几何非线性分析步考虑大变形效应，适用于材料或结构产生大变形</li></ol><h3 id="模拟设置">5.3 模拟设置</h3><ol type="1"><li>选择分析步</li><li>设置时间增量</li><li>质量缩放（针对于动力显式算法）</li><li>选择单元类型</li></ol><h2 id="载荷">6、载荷</h2><h3 id="幅值曲线">6.1 幅值曲线</h3><p>在载荷施加中共有11个幅值曲线，实际加载力/位移=<code>load</code>(载荷)*<code>amplitude</code>(幅值)，<code>step time</code>对应每个分析步时间，<code>total time</code>对应总时间。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220083328.png"></p></div><h4 id="ramp">6.1.1 Ramp</h4><p>默认为从0时刻幅值为0线性插值到最后时刻幅值为1</p><h4 id="表格幅值曲线tabular">6.1.2 表格幅值曲线：(tabular)</h4><p>表格幅值曲线根据用户输入每个时刻的幅值大小，线性插值。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220083812.png"></p></div><h4 id="等间距幅值曲线equally-spaced">6.1.3 等间距幅值曲线：(Equallyspaced)</h4><p>等间距幅值曲线需要给出一个固定时间间隔，在时间间隔内需要给出初始时刻及其幅值大小。然后进行线性插值。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220083927.png"></p></div><h4 id="周期幅值曲线periodic傅里叶级数">6.1.4周期幅值曲线：(Periodic)（傅里叶级数）</h4><p>定义如下：</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084314.png"></p></div><p>正弦</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084156.png"></p></div><p>余弦</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084215.png"></p></div><p>混合</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084225.png"></p></div><h4 id="调制幅值曲线modulated">6.1.5 调制幅值曲线：(Modulated)</h4><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084352.png"></p></div><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084421.png"></p></div><h4 id="衰减幅值曲线decay">6.1.6 衰减幅值曲线：(Decay)</h4><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084443.png"></p></div><h4 id="依赖于解幅值曲线solution-dependent">6.1.7依赖于解幅值曲线：(Solution dependent)</h4><p>数据由初始值、最小值和最大值组成。振幅从初始值开始，然后根据解的进度进行修改，但需根据最小值和最大值进行修改。最大值通常是用于结束分析的控制机制。该方法用于超塑成型分析的蠕变应变速率控制。</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084553.png"></p></div><h4 id="平滑分析步幅值曲线smooth-step">6.1.8 平滑分析步幅值曲线(Smoothstep)</h4><p>用于定义旨在从一个幅度值平滑地上升或下降到另一个幅度值。该定义不能用于在一组数据点之间进行平滑插值</p><div style="width: 80%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/vscode/20250220084628.png"></p></div><h4 id="激励器幅值曲线actuator">6.1.9 激励器幅值曲线：(Actuator)</h4><p>激励器振幅的当前值可以在任何给定时间从与逻辑建模程序的共同仿真导入（请参阅关于共同仿真）。激励器振幅定义上指定的名称用作执行器名称，用于共同仿真目的。因此，在给定时间，每个激励器都与一个实数（振幅的当前值）关联。与任何振幅定义一样，用户指定的名称可以与任何可以参考振幅的Abaqus功能结合使用。</p><h4 id="谱幅值曲线spectrum">6.1.10 谱幅值曲线：(Spectrum)</h4><p>多断幅值，以及幅值的一阶二阶导数的变化情况</p><h4 id="用户幅值曲线user">6.1.11 用户幅值曲线：（User）</h4><p>用户幅值曲线即自行编写UAMP或者VUAMP子程序来定义。且给出变量数。</p><h4 id="psd定义幅值曲线psd-definition">6.1.12 PSD定义幅值曲线:（PSDDefinition）</h4><p>在随机响应分析步骤中，使用PSD定义方法定义随机负载的频率依赖性。选择功率可直接以功率单位定义频率功能。选择“分贝”以分贝为单位定义频率函数。如果将使用频率函数以g为单位定义基本运动，请选择“重力”（基本运动）。如果选择这些单位，则必须定义重力加速度。如果选择了分贝单位，请为参考功率输入一个值。如果选择了重力单位，请输入参考重力值。</p><p>在数据表中，输入或导入该函数的数据值：</p><p>（1）函数的实部和虚部，（以分贝为单位或单位每频率）</p><p>（2）频率，周期/时间或频段号（对于分贝单位）。</p><p>另外：切换上在外部用户子程序指定数据，你可以提供PSD的用户子程序来定义幅值曲线。</p><h2 id="参考">参考</h2><p>[^1]任何振动系统在振动中，由于外界作用（如流体阻力、摩擦力等）和/或系统本身固有的原因引起的振动幅度逐渐下降的特性，以及此一特性的量化表征。</p>]]></content>
    
    
    <summary type="html">Abaqus基础</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Abaqus" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Abaqus/"/>
    
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="学习笔记" scheme="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Abaqus" scheme="http://example.com/tags/Abaqus/"/>
    
  </entry>
  
  <entry>
    <title>Rust学习笔记</title>
    <link href="http://example.com/2025/02/08/037%20Rust%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2025/02/08/037%20Rust%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2025-02-08T07:43:00.000Z</published>
    <updated>2025-02-20T01:39:20.654Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/08 晚上</p>          </div><h1 id="安装与配置">1、安装与配置</h1><h2 id="安装">1.1 安装</h2><p><ahref="https://www.rust-lang.org/zh-CN/learn/get-started">官网下载</a></p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028185911269.png"alt="image-20241028185911269" /><figcaption aria-hidden="true">image-20241028185911269</figcaption></figure><p>双击打开会弹出命令行窗口，直接回车即可。</p><p>查看是否安装成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rustup --version<br></code></pre></td></tr></table></figure><p>查看rust版本环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rustup show<br></code></pre></td></tr></table></figure><p>安装生产版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rustup install nightly<br></code></pre></td></tr></table></figure><p>切换版本环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">rustup default nightly<br>or<br>rustup default stable<br></code></pre></td></tr></table></figure><h2 id="编译命令">1.2 编译命令</h2><p>文件编译</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">rustc 被编译文件名 -o 输出文件名<br>rustc main.rs -o hello<br></code></pre></td></tr></table></figure><h1 id="包管理">2、包管理</h1><h2 id="包管理工具cargo">2.1 包管理工具<code>Cargo</code></h2><p><strong><u>创建项目</u></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo new project_name<br>cargo new --lib project_lib_name<br></code></pre></td></tr></table></figure><p><strong><u>构建项目</u></strong></p><p>会出现一个名为<code>target</code>文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo build<br>cargo build --release  这个性能较好<br></code></pre></td></tr></table></figure><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028191914203.png"alt="image-20241028191914203" /><figcaption aria-hidden="true">image-20241028191914203</figcaption></figure><p><strong><u>检测</u></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo check<br></code></pre></td></tr></table></figure><p><strong><u>运行/测试</u></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo run<br>cargo <span class="hljs-built_in">test</span><br></code></pre></td></tr></table></figure><p><strong><u>项目结构</u></strong></p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028190911111.png"alt="image-20241028190911111" /><figcaption aria-hidden="true">image-20241028190911111</figcaption></figure><h2 id="cargo.toml文件">2.2 Cargo.toml文件</h2><ul><li>package<ul><li>设置版本名</li><li>版本等</li></ul></li><li>dependencies<ul><li>设置依赖</li><li>[build-dependencies]列出了在构建项目时需要的依赖项</li><li>[dev-dependencies]列出了只在开发时需要的依赖项</li></ul></li></ul><h2 id="加载库">2.3 加载库</h2><p>填写依赖项后保存会自动加载依赖项</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028192529489.png"alt="image-20241028192529489" /><figcaption aria-hidden="true">image-20241028192529489</figcaption></figure><p>推荐使用<code>cargo-edit</code></p><p>安装<code>cargo-edit</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo install cargo-edit<br></code></pre></td></tr></table></figure><p>添加库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo add dependency_name<br></code></pre></td></tr></table></figure><p>安装指定版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo add dependency_name@1.2.3<br></code></pre></td></tr></table></figure><p>添加开发时用的依赖库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo add --dev dev_dependency_name<br></code></pre></td></tr></table></figure><p>添加构建时用的依赖库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo add --build build_dependency_name<br></code></pre></td></tr></table></figure><p>删除库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cargo <span class="hljs-built_in">rm</span> dependency_name<br></code></pre></td></tr></table></figure><h2 id="设置国内源">2.4 设置国内源</h2><p>推荐使用<code>rsproxy</code></p><p>在<code>C:\Users\23984\.cargo\.config</code></p><p>但是我没有找到</p><h1 id="基本类型">3、基本类型</h1><h2 id="变量与不可变性">3.1 变量与不可变性</h2><ol type="1"><li>使用<code>let</code>声明变量</li><li>后置类型定义</li><li>变量使用蛇形命名法，枚举和结构体命名使用帕斯卡命名法</li><li>强制类型转换<code>Casting a Value to a Different Type</code></li><li>使用<code>mut</code>关键词将变量置为可变</li><li></li></ol><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028194646626.png"alt="image-20241028194646626" /><figcaption aria-hidden="true">image-20241028194646626</figcaption></figure><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028194723176.png"alt="image-20241028194723176" /><figcaption aria-hidden="true">image-20241028194723176</figcaption></figure><h2 id="常量与静态变量">3.2 常量与静态变量</h2><p><strong><u>常量</u></strong></p><ol type="1"><li>常量的值在编译时已知，必须指定类型与值</li><li>与C不同，Rust的const常量值被直接嵌入到生成的底层机器代码中，而不是简单字符替换</li><li>常量名与静态变量名必须全部大写，单词之间加下划线</li><li>常来那个的作用域是块级作用域，只在声明他们的作用域内可见</li></ol><p><strong><u>static静态变量</u></strong></p><ol type="1"><li>在运行时分配内存</li><li>并不是不可变的，可使用unsafe修改</li><li>静态变量的生命周期为整个程序的运行时间</li></ol><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028200046092.png"alt="image-20241028200046092" /><figcaption aria-hidden="true">image-20241028200046092</figcaption></figure><h2 id="基本数据类型">3.3 基本数据类型</h2><ul><li><code>Integer types</code> ： 默认推断为<code>i32</code><ul><li>i8、i16、i32、i64、i128</li></ul></li><li><code>Unsigned Integer types</code><ul><li>u8、u16、u32、u64、u128</li></ul></li><li>platform-specific integer type（由平台决定）<ul><li>usize</li><li>isize</li></ul></li><li>Float Types<ul><li>f32与f64</li><li>尽量用f64</li></ul></li><li>Boolean Values<ul><li>true</li><li>false</li></ul></li><li>Character Types<ul><li>Rust支持Unicode字符</li><li>表示char类型使用单引号</li></ul></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>,<span class="hljs-type">u32</span>::MAX);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>,<span class="hljs-type">u32</span>::MIN);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>,<span class="hljs-type">usize</span>::MAX);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>,<span class="hljs-type">usize</span>::MIN);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;isize is &#123;&#125; bytes&quot;</span>,std::mem::size_of::&lt;<span class="hljs-type">isize</span>&gt;());<br></code></pre></td></tr></table></figure><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028200813404.png"alt="image-20241028200813404" /><figcaption aria-hidden="true">image-20241028200813404</figcaption></figure><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241028200822258.png"alt="image-20241028200822258" /><figcaption aria-hidden="true">image-20241028200822258</figcaption></figure><p>该2.4了</p><p>https://www.bilibili.com/video/BV15y421h7j7?spm_id_from=333.788.videopod.episodes&amp;vd_source=33b50a4dd201d7564e6e63d321809ce9&amp;p=7</p><h2 id="元祖和数组">3.4 元祖和数组</h2><p>相同点：</p><ul><li>都是复合类型Compound Types，而Vec和Map都是集合类型CollectionTypes</li><li>元组和数组长度都是固定的</li></ul><p>不同点：</p><ul><li>Tuples：不同类型的数据类型</li><li>Arrays：同一类型的数据类型</li></ul><p><u><strong>数组：</strong></u></p><ul><li><p>创建方式</p><ul><li><p><code>[a,b,c]</code></p></li><li><p><code>[value;size]</code></p></li></ul></li><li><p>获取元素<code>arr[index]</code></p></li><li><p>获取长度<code>arr.len()</code></p></li></ul><p><strong><u>元组：</u></strong></p><ul><li>获取数据：tup.index</li><li>没有len()</li><li>默认返回值<code>Emoty Tuple()</code></li></ul><blockquote><ul><li>元组和数组都是可以直接打印的；<code>println!("&#123;:?&#125;",arr);</code></li><li>赋值默认都是<code>copy</code>操作；</li></ul></blockquote><p>string赋值时是<code>move</code>操作，会转移所有权，不能再打印。</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241029191648931.png"alt="image-20241029191648931" /><figcaption aria-hidden="true">image-20241029191648931</figcaption></figure><h1 id="ownership与结构体枚举">4、Ownership与结构体、枚举</h1><h2 id="rust的内存管理模型">4.1 Rust的内存管理模型</h2><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241029191949573.png"alt="image-20241029191949573" /><figcaption aria-hidden="true">image-20241029191949573</figcaption></figure><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241029192441011.png"alt="image-20241029192441011" /><figcaption aria-hidden="true">image-20241029192441011</figcaption></figure><p><strong><u>1、所有权系统</u></strong></p><ul><li>每个值都有一个与之关联的变量，该变量是该值的所有者</li><li>同一时间只能有一个所有者</li><li>当所有者离开作用域时，它拥有的值将被丢弃</li></ul><p><strong><u>2、RAII原则</u></strong></p><p>资源获取即初始化原则。当对象被创建时，它会获取必要的资源，并在生命周期结束时释放这些资源。</p><blockquote><p>https://blog.csdn.net/CrystalLawson/article/details/138190719</p></blockquote>]]></content>
    
    
    <summary type="html">Rust基础</summary>
    
    
    
    <category term="编程" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="Rust" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/Rust/"/>
    
    
    <category term="学习笔记" scheme="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Rust" scheme="http://example.com/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>深度学习基础</title>
    <link href="http://example.com/2025/02/08/036%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%EF%BC%88%E5%90%B4%E6%81%A9%E8%BE%BE%EF%BC%89/"/>
    <id>http://example.com/2025/02/08/036%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%EF%BC%88%E5%90%B4%E6%81%A9%E8%BE%BE%EF%BC%89/</id>
    <published>2025-02-08T07:11:00.000Z</published>
    <updated>2025-02-20T01:40:01.152Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/08 晚上</p>          </div><span class="label label-primary">梯度下降</span><span class="label label-info">线性回归</span><span class="label label-warning">学习率</span><hr /><a class="btn" href="https://github.com/kaieye/2022-Machine-Learning-Specialization"  title="Github资料" target="_blank">Github资料</a><h2 id="机器学习分类">1、机器学习分类</h2><p>分为监督学习和无监督学习</p><h3 id="监督学习">1.1 监督学习</h3><ul><li>定义：在给定的数据集中学习出一个函数，当输入新的x时，能够预测输出结果y。</li><li>两种主要类型：回归和分类</li><li>学习技术：逻辑回归、线性回归、决策树和神经网络。</li></ul><h3 id="无监督学习">1.2 无监督学习</h3><ul><li>无监督学习算法会使用未标记的数据进行训练。</li><li>无监督学习可用于将新闻文章分类</li><li>学习技术：集群、关联规则学习、概率密度和降维</li></ul><h3 id="区别">1.3 区别</h3><ul><li>监督学习是一种目的明确的训练方式，你知道得到的是什么；而<strong>无监督学习则是没有明确目的的训练方式，你无法提前知道结果是什么</strong>。</li><li>监督学习由于目标明确，所以可以衡量效果；而<strong>无监督学习几乎无法量化效果如何</strong>。</li></ul><div class="note note-info">            <ol type="1"><li><ahref="https://aws.amazon.com/cn/compare/the-difference-between-machine-learning-supervised-and-unsupervised/">有监督学习和无监督学习有什么区别</a></li><li><ahref="https://easyai.tech/ai-definition/unsupervised-learning/">无监督学习– Unsupervised learning | UL</a></li></ol>          </div><h2 id="线性回归">2、线性回归</h2><h3 id="定义">2.1 定义</h3><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161210625.png"></p></div><p>任何预测数字之间的监督学习模型都可被称作回归问题。线性回归时回归模型中的一个用例。模型可以有无限可能的输出。</p><p>Training : Data used to train the model</p><ul><li>x : 输入</li><li>y : 输出</li><li>m : 训练集的数量</li><li>(x,y) : 单个训练样本</li><li>$ (x<sup>{i},y</sup>{i}) $ : 第i个训练样本fs</li><li><span class="math inline">\(\hat{y}\)</span> : 预测值</li><li>f : 函数模型</li><li><span class="math inline">\(\hat{y}-y\)</span> : error</li></ul><blockquote><p>另一种机器学习类别是分类，分类问题时预测类别或者离散类别，如预测图片是猫还是狗。在分类问题中，只有少量可能的输出。</p></blockquote><h3 id="损失函数">2.2 损失函数</h3><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161303796.png"></p></div><p>模型 <span class="math display">\[f_{w,b}(x)=wx+b\]</span> 参数为w和b <span class="math display">\[J(w,b)=\frac{1}{2m}\sum_{i=1}^{m}\bigl(f_{w,b}\bigl(x^{(i)}\bigr)-y^{(i)}\bigr)^{2}\]</span></p><blockquote><p><span class="math inline">\(J(w,b)\)</span>最小化</p></blockquote><p>为方便举例，假设只有一个参数w。如图所示，当参数w为1时，J(w)时是最小的</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161301562.png"></p></div><p>如果参数有w和b则</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161303421.png"></p></div><p>或者</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161307927.png"></p></div><p>完整对应关系</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161309467.png"></p></div><h2 id="梯度下降">3、梯度下降</h2><p>有时我们的损失值J并不是规则的，如图所示，存在诸多小峰和低谷。机器学习的目标就是找到最低点，如何快速找到最低点至关重要。</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/202409161313907.png"></p></div><p>假设你站在一个山坡上，如何找到最快的下坡路线？即朝哪个方向迈出一步？每走一步都要再次确认下一步往哪迈。</p><blockquote><p>实现梯度下降</p></blockquote><p><span class="math display">\[w=w-\alpha\frac\partial{\partial w}J(w,b)\]</span></p><p><span class="math display">\[b=b-\alpha\frac\partial{\partial b}J(w,b)\]</span></p><p>学习率<spanclass="math inline">\(\alpha\)</span>决定下坡的步数大小</p><blockquote><p>对于某个特定步的两个量(w,b)的更新，<spanclass="math inline">\(\frac\partial{\partialw}J(w,b)\)</span>要一致。</p></blockquote><p><span class="math display">\[tmp_w = w-\alpha\frac\partial{\partial w}J(w,b)\]</span></p><p><span class="math display">\[tmp_b = b-\alpha\frac\partial{\partial b}J(w,b)\]</span></p><p><span class="math display">\[w = tmp_w\]</span></p><p><span class="math display">\[b = tmp_b\]</span></p><p><strong>直观理解梯度下降</strong></p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240918185034.png"></p></div><h3 id="学习率">3.1 学习率</h3><p>学习率的值至关重要，太小和太大会产生什么影响呢？</p><ul><li>太小学习很慢</li><li>太大可能会离最小值越来越远，导致发散</li></ul><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240918185505.png"></p></div><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240918185512.png"></p></div><p>固定的学习率，下降的步长会越来越小，因为导数在变小</p><div style="width: 60%; margin: auto"><p><img src="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240918185832.png"></p></div><h3 id="线性回归中的梯度下降">3.2 线性回归中的梯度下降</h3><p><span class="math display">\[f_{w,b}(x)=wx+b\]</span></p><p><span class="math display">\[J(w,b)=\frac{1}{2m}\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)})^{2}\]</span></p><p><span class="math display">\[w=w-\alpha\frac{\partial}{\partial w}J(w,b)\]</span></p><p><span class="math display">\[b=b-\alpha\frac{\partial}{\partial b}J(w,b)\]</span></p><p>而</p><p><span class="math display">\[\frac{\partial}{\partial w}J(w,b) =\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}\big(x^{(i)}\big)-y^{(i)})x^{(i)}\]</span></p><p><span class="math display">\[\frac{\partial}{\partial w}J(w,b) =\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}\big(x^{(i)}\big)-y^{(i)})\]</span></p><p>则</p><p><span class="math display">\[w=w-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)}) x^{(i)}\]</span></p><p><span class="math display">\[b=b-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)})\]</span></p><blockquote><p>梯度下降只能找到局部最小值，而不能找到全局最小值。对于凸函数只有一个最小值，梯度下降是适用的</p></blockquote><h2 id="多元线性回归">4、多元线性回归</h2><p>多元线性回归模型中有多个特征值。比如房间的价格Y不止与面积X1有关，还与地段X2、房间数X3等有关。此时的X实际为一个向量[X1,X2,X3]。此时模型可以定义为</p><p><span class="math display">\[f_{\overrightarrow{w},b}(\overrightarrow{X})=w_{1}X_{1}+w_{2}X_{2}+w_{3}X_{3}+b\]</span></p><p><span class="math display">\[\overrightarrow{w} = [X1,X2,X3]\]</span></p><p><span class="math display">\[f_{\overrightarrow{w},b}(\overrightarrow{X})=\overrightarrow{w}\cdot\overrightarrow{X}+ b\]</span></p><p><strong>向量化</strong></p><p><spanclass="math display">\[f=w[0]*x[0]+w[1]*x[1]+w[2]*x[2]+b\]</span>代码表示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,n):<br>  f = f + w[j] * x[j]<br>f = f + b<br><br>// 也可以使用numpy，这种方式计算效率高，因为numpy可以并行计算<br>f = np.dot(w,x) + b<br></code></pre></td></tr></table></figure><p><strong>向量中的梯度算法</strong></p><a class="btn" href="https://www.bilibili.com/video/BV1Bq421A74G?p=24&vd_source=33b50a4dd201d7564e6e63d321809ce9"  title="视频讲解" target="_blank">视频讲解</a><p>多个特征值</p><p><span class="math display">\[\begin{align*} \text{repeat}&amp;\text{ until convergence:} \; \lbrace\newline\;&amp; w_j = w_j -  \alpha \frac{\partial J(\mathbf{w},b)}{\partial w_j}\tag{5}  \; &amp; \text{for j = 0..n-1}\newline&amp;b\ \ = b -  \alpha \frac{\partial J(\mathbf{w},b)}{\partial b} \newline \rbrace\end{align*}\]</span></p><p><span class="math display">\[\frac{\partial J(\mathbf{w},b)}{\partialw_j}=\frac{1}{m}\sum_{i=0}^{m-1}(f_{\mathbf{w},b}(\mathbf{x}^{(i)})-y^{(i)})x_j^{(i)}\]</span></p><p><span class="math display">\[\frac{\partial J(\mathbf{w},b)}{\partialb}=\frac{1}{m}\sum_{i=0}^{m-1}(f_{\mathbf{w},b}(\mathbf{x}^{(i)})-y^{(i)})\]</span></p><h3 id="梯度下降特征放缩">4.1 梯度下降:特征放缩</h3><p>如果两个特征值在量级上相差较大，如房间数和面积，房间数一般在1<sub>5，而面积在100</sub>150，这时绘制出的w1和w2的J(w,b)呈现椭圆形，在梯度下降时会来回反弹。最有利的方式是将特征值进行放缩，使得两个特征值在相同量级。</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240924084546.png"alt="image.png|500" /><figcaption aria-hidden="true">image.png|500</figcaption></figure><h3 id="如何缩放">4.2 如何缩放</h3><p><strong>最值归一化</strong></p><p>除以特征值取值的最大值，数据会映射到0~1之间。 <spanclass="math display">\[x_{scale}=\frac{x-x_{min}}{x_{max}-x_{min}}\]</span>最值归一化只适用于有明显边间的情况。</p><p><strong>均值归一化</strong></p><p><span class="math display">\[x_{scale}=\frac{x-\mu}S\]</span>其中<span class="math inline">\(x\)</span>为要归一化的值，<spanclass="math inline">\(x_{scale}\)</span>为归一化之后的值。<spanclass="math inline">\(\mu\)</span> 为样本的平均值，<spanclass="math inline">\(S\)</span>为样本的标准差。</p><p><strong>均值方差归一化</strong></p><p><span class="math display">\[Y_i=\sigma\cdot X_i+\mu \]</span>其中，X为标准正态分布中的元素，<spanclass="math inline">\(\mu\)</span>为平均值，<spanclass="math inline">\(\sigma\)</span>为标准差。</p><h3 id="学习曲线">4.3 学习曲线</h3><p>可以判断何时停止训练特定模拟</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240927140525.png"alt="image.png|500" /><figcaption aria-hidden="true">image.png|500</figcaption></figure><h3 id="学习率选择">4.4 学习率选择</h3><p>一个小的学习率，J应该是持续减小的。在选择学习率时，可从小的开始，每次增加10倍改变，如0.001、0.01、0.1、1、10...</p>]]></content>
    
    
    <summary type="html">跟着吴恩达学习深度学习基础</summary>
    
    
    
    <category term="编程" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="大模型" scheme="http://example.com/categories/%E7%BC%96%E7%A8%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"/>
    
    
    <category term="深度学习" scheme="http://example.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="吴恩达" scheme="http://example.com/tags/%E5%90%B4%E6%81%A9%E8%BE%BE/"/>
    
  </entry>
  
  <entry>
    <title>AI生成代码</title>
    <link href="http://example.com/2025/02/08/035%20AI%E9%97%AE%E7%AD%94%E5%BD%A2%E5%BC%8F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81/"/>
    <id>http://example.com/2025/02/08/035%20AI%E9%97%AE%E7%AD%94%E5%BD%A2%E5%BC%8F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81/</id>
    <published>2025-02-08T07:06:00.000Z</published>
    <updated>2025-02-20T01:40:41.637Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/08 晚上</p>          </div><h2 id="ai问答形式生成代码">AI问答形式生成代码</h2><p>今天无意间在b站看到一位up主用AI写代码的过程，无比惊讶，不需要会前端，就能使用问答的形式生成好看的前端页面。我也亲自体验了一下。</p><p>https://v0.dev/chat/</p><p>这是我使用这个网站生成的前端页面，但是每天有限制次数，<u>一定要谨慎使用，想好了问题再问。</u></p><h2 id="预览">预览</h2><p>https://v0.dev/chat/GvO3hYBppbW</p><h2 id="问答生成">问答生成</h2><p>有样学样，首先给他生成网站的目的及类型。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">I</span> want <span class="hljs-selector-tag">to</span> make an app for university applicants. <span class="hljs-selector-tag">To</span> learn about major. <span class="hljs-selector-tag">I</span> want <span class="hljs-selector-tag">to</span> <span class="hljs-attribute">display</span> <span class="hljs-selector-tag">a</span> list of major, and their coresponging subject, and comparisons between majors. Now generate the major list page.<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143611587.png"alt="image-20241123143611587" />​</p><p>但显示的内容过于多，而不是自己想要的，我想要在主页面能呈现更多的专业</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">but </span>make it more concise, <span class="hljs-keyword">because </span>there are <span class="hljs-keyword">bundreds </span>of majors i want to <span class="hljs-keyword">display </span>in the home page<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143748042.png"alt="image-20241123143748042" />​</p><p>它还贴心的加上了搜索功能，但是我想着美化一下，添加一个主题颜色</p><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-keyword">use</span> clean <span class="hljs-built_in">color</span> themes<br></code></pre></td></tr></table></figure><p>但是单词打错了，<code>clear</code>写成了<code>clean</code>，它把所有颜色删除了。当时我没意识到，只是让它在搜索栏右侧添加一个筛选按钮，可以筛选分类。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">add </span>a category <span class="hljs-keyword">button </span><span class="hljs-built_in">at</span> search <span class="hljs-keyword">box </span>right, I can choose <span class="hljs-keyword">different </span>category<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144043521.png"alt="image-20241123144043521" />​</p><p>还是不甘心，加点颜色主题吧</p><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-keyword">use</span> gradient <span class="hljs-built_in">color</span> theme<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144129571.png"alt="image-20241123144129571" />​</p><p>但这个紫色系不是我想要的，想要个蓝色系的。</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">use gradient <span class="hljs-keyword">color</span> theme <span class="hljs-keyword">about</span> blue<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144236324.png"alt="image-20241123144236324" />​</p><p>生成一个详情页面</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">generate</span> a <span class="hljs-keyword">new</span> page <span class="hljs-keyword">for</span> major detail, <span class="hljs-keyword">this</span> page should contain subjects related to <span class="hljs-number">10</span> majors.<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144410492.png"alt="image-20241123144410492" />​</p><p>这个页面有些简单，增加一下问答功能</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">detail page should have comment <span class="hljs-keyword">and</span> question / answer seciotn <span class="hljs-keyword">below</span><br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144451374.png"alt="image-20241123144451374" />​</p><p>但是推荐的专业里面推荐的是大分类，想改成大分类中的小分类</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">The recommended major is <span class="hljs-keyword">the</span> minor major <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> larger category <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> detail page<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144604904.png"alt="image-20241123144604904" />​</p><p>生成专业对比页面</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">generate a new page about major <span class="hljs-built_in">compare</span>. Side-<span class="hljs-keyword">by-side </span><span class="hljs-built_in">compare</span> <span class="hljs-number">2</span> major majors interm of suject to study, related <span class="hljs-keyword">jobs, </span><span class="hljs-keyword">and </span>more. <span class="hljs-keyword">be </span>creative.<br></code></pre></td></tr></table></figure><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144639352.png"alt="image-20241123144639352" />​</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123144650053.png"alt="image-20241123144650053" />​</p><p>还想优化一下，但是今日的生成次数用尽了。总之这个网站对我的冲击还是比较大的。一时间让我感觉自己之前学的东西都白费了，自己一天写的网站，它使用几分钟就能搞定，而且还美观。不得不惊叹目前AI发展的速度，自己还是要掌握一些核心技能，不然免不了被淘汰。</p><h2 id="全部页面">全部页面</h2><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143233687.png"alt="image-20241123143233687" />​</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143249198.png"alt="image-20241123143249198" />​</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143259159.png"alt="image-20241123143259159" />​</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143337907.png"alt="image-20241123143337907" />​</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/image-20241123143346607.png"alt="image-20241123143346607" />​</p>]]></content>
    
    
    <summary type="html">使用v0.dev.chat以问答形式生成代码测试</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="AI代码生成" scheme="http://example.com/tags/AI%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/"/>
    
    <category term="大模型" scheme="http://example.com/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"/>
    
    <category term="v0.chat" scheme="http://example.com/tags/v0-chat/"/>
    
  </entry>
  
  <entry>
    <title>在powershell上禁止运行脚本</title>
    <link href="http://example.com/2025/02/08/034%20Powershell%E9%99%90%E5%88%B6/"/>
    <id>http://example.com/2025/02/08/034%20Powershell%E9%99%90%E5%88%B6/</id>
    <published>2025-02-08T06:33:00.000Z</published>
    <updated>2025-02-20T01:43:51.456Z</updated>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>本文最新更新于 2025/02/08 下午</p>          </div><p>在使用<code>tabby</code>运行<code>PowerShell</code>时，输入命令行<code>hexo s</code>出现如下报错</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/picgo/image-20250208144105189.png"alt="image-20250208144105189" /><figcaption aria-hidden="true">image-20250208144105189</figcaption></figure><p><strong>分析原因</strong></p><p><code>PowerShell</code>执行策略是<code>Restricted</code>。<code>Restricted</code> 执行策略不允许任何脚本运行。</p><p>查看执行策略<code>get-executionpolicy</code></p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/picgo/image-20250208143829255.png"alt="image-20250208143829255" /><figcaption aria-hidden="true">image-20250208143829255</figcaption></figure><p><strong>解决方法</strong></p><p>管理员身份打开<code>PowerShell</code> 输入<code>set-executionpolicy remotesigned</code>更改执行策略</p><figure><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/picgo/image-20250208143928799.png"alt="image-20250208143928799" /><figcaption aria-hidden="true">image-20250208143928799</figcaption></figure>]]></content>
    
    
    <summary type="html">解决在powershell禁止运行脚本问题</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="powershell" scheme="http://example.com/tags/powershell/"/>
    
  </entry>
  
  <entry>
    <title>The Spalart-Allmaras Turbulence Model</title>
    <link href="http://example.com/2024/07/30/033%20%E6%B9%8D%E6%B5%81%E6%A8%A1%E5%9E%8B%E4%B9%8BSpalart-Allmaras/"/>
    <id>http://example.com/2024/07/30/033%20%E6%B9%8D%E6%B5%81%E6%A8%A1%E5%9E%8B%E4%B9%8BSpalart-Allmaras/</id>
    <published>2024-07-30T11:26:00.000Z</published>
    <updated>2025-02-08T06:47:20.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="历史发展">1、历史发展</h1><p>流体动力学中描述流体在外力作用下流动的主要控制方程是<strong>纳维-斯托克斯方程</strong>。这些方程的强大之处在于它们能够描述作用在流体上的任何力的影响以及由此产生的流动行为。然而，<em>它们不能针对每个系统或流量情况以封闭形式求解。</em></p><p>由于最早 1973 年提出的 ke 模型无法准确预测逆压力梯度 adverse pressuregradient 下的边界层运动，Spalart-Allmaras Model（1994）、（1998）以及（1994）分别被提出。</p><p>在物理学中，Spalart-Allmaras模型是一种单方程模型，可求解运动涡流湍流粘度的模拟输运方程。在其原始形式中，该模型实际上是一个低雷诺数模型，需要正确解析边界层的粘度影响区域（y+~1个网格）。它没有针对一般工业流动进行标定，对于一些自由剪切流，尤其是平面和圆形射流，确实会产生较大的误差。此外，不能依靠它来预测均匀、各向同性湍流的衰减。</p><h1 id="基本形式">2、基本形式</h1><p><spanclass="math display">\[\tau_{ij}=2\mu_t\left(S_{ij}-\frac{1}{3}\frac{\partialu_k}{\partial x_k}\delta_{ij}\right)-\frac{2}{3}\rhok\delta_{ij}\]</span></p><p>Spalart-Allmaras 湍流模型遵循一个描述运动粘度类变量（称为Spalart-Allmaras 变量）的动态方程：</p><p><span class="math display">\[\frac{\partial\bar{v}}{\partialt}+u_{j}\frac{\partial\bar{v}}{\partialx_{j}}=C_{b,1}(1-f_{t,2})\hat{S}\bar{v}-[c_{w,1}f_{w}-\frac{c_{b,1}}{\kappa^{2}}f_{t,2}](\frac{\bar{v}}{d})^{2}+\frac{1}{\sigma}[\frac{\partial}{\partialx_{j}}((v+\bar{v})\frac{\partial\bar{v}}{\partialx_{j}})+c_{b,2}\frac{\partial\bar{v}}{\partialx_{i}}\frac{\partial\bar{v}}{\partial x_{i}}]\]</span></p><p>该方程的目标是确定湍流涡流粘度，其由以下公式确定：</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194639.png" /></p><p>在这些方程中，分子运动粘度为 𝜈 = μ/⍴，流体密度为 ⍴，μ是流体的分子动力粘度。模型中的其他参数以场点到最近壁 d的距离和涡度大小给出</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194722.png" /></p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194738.png" /></p><p>以下定义：</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194758.png" /></p><p>从上面的定义中可以看出几个常量。这些常量定义如下：</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194819.png" /></p><p>由于所考虑的系统以墙为界，因此沿着墙的表面有一个固定边界条件。其他边界条件可能会施加在系统的其他地方，尽管这些边界条件是否会干扰解决远离壁本身的涡流可能值得怀疑。最后，我们对远场Spalart-Allmaras 变量有以下条件：</p><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240730194845.png" /></p><p>优点：</p><ol type="1"><li>降维可以降低问题的复杂性和整体模拟时间。</li><li>无需使用沿湍流的剪切层的局部厚度来计算长度尺度。</li><li>对于具有<strong>任意压力梯度</strong>的边界层流很有用。</li><li>稳健；对于低雷诺数 k - ε模型不收敛甚至发散的相对粗糙的网格，它可以给出合理的结果</li></ol><p>缺点：</p><ol type="1"><li>不适用于涉及喷射状自由剪切区域的应用</li><li></li></ol><h1 id="用途">3、用途</h1><h1 id="注意事项">4、注意事项</h1><p>参考：</p><ol type="1"><li>https://resources.system-analysis.cadence.com/blog/msa2024-what-is-the-spalart-allmaras-turbulence-model</li><li>https://www.cfd-online.com/Wiki/Spalart-Allmaras_model</li><li>https://www.youtube.com/watch?v=Xivc0EIGFQw</li><li>https://zhuanlan.zhihu.com/p/408434524</li></ol>]]></content>
    
    
    <summary type="html">介绍The Spalart-Allmaras Turbulence Model的历史及公式</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Fluent" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Fluent/"/>
    
    
    <category term="Fluent" scheme="http://example.com/tags/Fluent/"/>
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="学习笔记" scheme="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="湍流模型" scheme="http://example.com/tags/%E6%B9%8D%E6%B5%81%E6%A8%A1%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>Python自动执行fluent</title>
    <link href="http://example.com/2024/07/30/032%20Python%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8Cfluent/"/>
    <id>http://example.com/2024/07/30/032%20Python%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8Cfluent/</id>
    <published>2024-07-30T10:53:00.000Z</published>
    <updated>2025-02-08T06:47:20.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tui-命令">TUI 命令</h1><p>TUI 命令包括 Fluent 中的全部设置，见上一篇 Fluent TUI 命令。</p><p>最重要的是要包含推出程序命令，即<code>exit ok</code></p><p>全部 TUI 命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs tui">; 1、读取网格文件<br>rc fluent.msh<br>mesh/check<br>mesh/quality<br><br><br>display mesh-outline<br><br>; 2、勾选瞬态<br>/define/models/unsteady-2nd-order yes<br><br>; 3、设置重力加速度<br>/define/operating-conditions/gravity yes 0 -9.81 0<br><br>; 4、开启能量方程<br>/define/models/energy y y y<br><br>; 5、湍流模型<br>/define/models/viscous/spalart-allmaras y<br><br>; 6、新增混合气体<br>/define/models/species/species-transport y hydrogen-air<br>/define/materials/change-create hydrogen-air hydrogen-air y 2 h2 air 0 0 n n n n n n<br><br>; 7、管道材料及土壤材料<br>/define/materials/copy/solid/steel<br>/define/materials/change-create aluminum soil y constant 2650 y constant 789 y constant 2.9 y<br><br>; 8、设置边界条件<br>/define/boundary-conditions/fluid solid fluid no no no no no  0 no 0 no 0 no  0 no 0 no 0 no no no no yes no no 1 no 0 no 0 no  0 no 1 no 0 yes no 245000000000 no 245000000000 no 245000000000 no no 502000 no 502000 no 502000 0 0 no 0.43 constant 1 yes no no no<br><br>/define/boundary-conditions/zone-type inlet pressure-inlet<br>/define/boundary-conditions/set/pressure-inlet inlet () p0 no 400000 q<br>/define/boundary-conditions/set/pressure-inlet inlet () supersonic/initial-gauge-pressure no 400000 q<br>/define/boundary-conditions/set/pressure-inlet inlet () ke-spec no no no yes q<br>/define/boundary-conditions/set/pressure-inlet inlet () turb-hydraulic-diam 0.01 q<br>/define/boundary-conditions/set/pressure-inlet inlet () t0 no 288.15 q<br>/define/boundary-conditions/set/pressure-inlet inlet () species-in-mole-fractions yes q<br>/define/boundary-conditions/set/pressure-inlet inlet () mf no 1 q<br><br>/define/boundary-conditions/set/pressure-outlet outlet_x1 outlet_x2 outlet_y1 outlet_z1 outlet_z2 () t0 no 288.15 q<br><br>/define/boundary-conditions wall pipe 0 no 0 yes steel no no 0 no no no no no 0 no 0.5 yes no 1<br>/define/boundary-conditions wall ground 0 no 0 yes soil no no 0 no no no no no 0 no 0.5 yes no 1<br><br>; 9、创建并设置监测点和面<br>surf point-surf point-1 0 0.4 0 q<br>surf point-surf point-2 0 0.5 0 q<br>surf point-surf point-3 2 0.4 0 q<br><br>/solve/report-definitions add report1 surface-vertexavg field molef-h2 surface-names point-1 () q<br><br>/surface/plane plane1 0 0 0 0 1 0 0 0 1<br><br>; 10、初始化<br>/solve/initialize/set-defaults/ temperature 288.15<br>/solve/initialize/set-defaults/ pressure 0<br>/solve/initialize/set-defaults/ species-0 0<br><br>/solve/initialize initialize-flow ok<br>; 显示一下contour<br>;/display/contour molef-h2 0 1<br><br><br>; 11、设置保存格式及频率<br>; 设置数据保存内容<br>/file/data-file-options molef-h2 molef-air absolute-pressure air h2 velocity-magnitude mesh-x-velocity mesh-y-velocity mesh-z-velocity pressure density total-pressure total-temperature  x-velocity y-velocity z-velocity viscosity-eff viscosity-lam viscosity-ratio viscosity-turb vorticity-mag q<br>; 保存tecplot文件<br>/file/transient-export/tecplot  C:/Users/23984/Desktop/tui_test/tecplot1 ground inlet outlet_x1 outlet_x2 outlet_y1 outlet_z1 outlet_z2 pipe () molef-h2 molef-air absolute-pressure air h2 velocity-magnitude mesh-x-velocity mesh-y-velocity mesh-z-velocity pressure density total-pressure total-temperature  x-velocity y-velocity z-velocity viscosity-eff viscosity-lam viscosity-ratio viscosity-turb vorticity-mag q tecplot1 10 time-step<br><br>; 12、创建contour并保存动画<br>/display/objects/create contour &quot;contour-1&quot; filled yes field molef-h2 surfaces-list plane1 () q<br>/solve/animate/objects/create &quot;animation-1&quot; animate-on contour-1 storage-dir C:\Users\23984\Desktop\tui_test frequency-of &quot;Time Step&quot; q<br><br>; 13、设置迭代参数<br>/solve/set/max-iterations-per-time-step 50<br>/solve/set/time-step 1<br>/solve/set/number-of-time-steps 1000<br>/file/write-case/setting1.cas<br><br>; 14、开始计算<br>/solve/dual-time-iterate 1 2<br><br>exit ok<br></code></pre></td></tr></table></figure><h1 id="python-代码">Python 代码</h1><p>含注释</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> subprocess<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-comment"># 获取python文件运行的目录文件夹</span><br>path, filename = os.path.split(os.path.abspath(__file__))<br><br><span class="hljs-comment"># 定义fluent.exe的目录</span><br>fluent_path = <span class="hljs-string">&quot;D:\\ANSYS18\\ANSYS Inc\\v180\\fluent\\ntbin\\win64&quot;</span><br><br><span class="hljs-comment"># 定义要运行的命令</span><br>command_list = []<br>command_list.append(<span class="hljs-string">f&#x27;&quot;<span class="hljs-subst">&#123;fluent_path&#125;</span>\\fluent.exe&quot; 3ddp -t4 -i jou1.jou&#x27;</span>)<br>command_list.append(<span class="hljs-string">f&#x27;&quot;<span class="hljs-subst">&#123;fluent_path&#125;</span>\\fluent.exe&quot; 3ddp -t4 -i jou2.jou&#x27;</span>)<br><br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 定义fluent程序循环</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run_fluent</span>(<span class="hljs-params">command,path</span>):<br>    process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, cwd=path, shell=<span class="hljs-literal">True</span>, universal_newlines=<span class="hljs-literal">True</span>)<br>    <span class="hljs-comment"># 持续监控输出，如果检测到程序结束就往下执行</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        output = process.stdout.readline()<br>        <span class="hljs-keyword">if</span> output == <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-keyword">and</span> process.poll() <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">if</span> output:<br>            <span class="hljs-built_in">print</span>(output.strip())<br>    rc = process.poll()<br><br>count = <span class="hljs-number">10</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,count):<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;开始循环第<span class="hljs-subst">&#123;i&#125;</span>个&quot;</span>)<br>  run_fluent(command_list[i],path)<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;第<span class="hljs-subst">&#123;i&#125;</span>个循环结束&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;程序结束&quot;</span>)<br></code></pre></td></tr></table></figure><blockquote><p>这里如果想使用 python算一些变量，然后传入程序中自动执行，这里提供一种方法，就是修改 tui文件（.jou）内的内容。</p></blockquote>]]></content>
    
    
    <summary type="html">基于python的subprocess线程库和TUI命令自动运行fluent算例</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Fluent" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Fluent/"/>
    
    
    <category term="Fluent" scheme="http://example.com/tags/Fluent/"/>
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Python" scheme="http://example.com/tags/Python/"/>
    
    <category term="学习笔记" scheme="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="TUI" scheme="http://example.com/tags/TUI/"/>
    
    <category term="自动化" scheme="http://example.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>TUI命令</title>
    <link href="http://example.com/2024/07/27/031%20Fleunt%20Tui%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2024/07/27/031%20Fleunt%20Tui%E5%91%BD%E4%BB%A4/</id>
    <published>2024-07-27T13:29:00.000Z</published>
    <updated>2025-02-08T06:47:20.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tui-命令基本认识">1、TUI 命令基本认识</h1><p>Fluent 中的 Tui 命令能使 Fluent自动化操作，包括文件设置、案例读取、参数设置等功能。</p><h1 id="基本操作">2、基本操作</h1><p>在 Fluent 中的命令行可进行 tui 命令操作</p><ul><li>回车可查看命令提示；</li><li>q：返回上一级</li></ul><p><imgsrc="https://test-123456-md-images.oss-cn-beijing.aliyuncs.com/img/20240727213342.png" /></p><h1 id="案例">3、案例</h1><p>案例中包含注释</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs jou">; 1、读取网格文件<br>rc fluent.msh<br>mesh/check<br>mesh/quality<br><br><br>display mesh-outline<br><br>; 2、勾选瞬态<br>/define/models/unsteady-2nd-order yes<br><br>; 3、设置重力加速度<br>/define/operating-conditions/gravity yes 0 -9.81 0<br><br>; 4、开启能量方程<br>/define/models/energy y y y<br><br>; 5、湍流模型<br>/define/models/viscous/spalart-allmaras y<br><br>; 6、新增混合气体<br>/define/models/species/species-transport y hydrogen-air<br>/define/materials/change-create hydrogen-air hydrogen-air y 2 h2 air 0 0 n n n n n n<br><br>; 7、管道材料及土壤材料<br>/define/materials/copy/solid/steel<br>/define/materials/change-create aluminum soil y constant 2650 y constant 789 y constant 2.9 y<br><br>; 8、设置边界条件<br>/define/boundary-conditions/fluid solid fluid no no no no no  0 no 0 no 0 no  0 no 0 no 0 no no no no yes no no 1 no 0 no 0 no  0 no 1 no 0 yes no 245000000000 no 245000000000 no 245000000000 no no 502000 no 502000 no 502000 0 0 no 0.43 constant 1 yes no no no<br><br>/define/boundary-conditions/zone-type inlet pressure-inlet<br>/define/boundary-conditions/set/pressure-inlet inlet () p0 no 400000 q<br>/define/boundary-conditions/set/pressure-inlet inlet () supersonic/initial-gauge-pressure no 400000 q<br>/define/boundary-conditions/set/pressure-inlet inlet () ke-spec no no no yes q<br>/define/boundary-conditions/set/pressure-inlet inlet () turb-hydraulic-diam 0.01 q<br>/define/boundary-conditions/set/pressure-inlet inlet () t0 no 288.15 q<br>/define/boundary-conditions/set/pressure-inlet inlet () species-in-mole-fractions yes q<br>/define/boundary-conditions/set/pressure-inlet inlet () mf no 1 q<br><br>/define/boundary-conditions/set/pressure-outlet outlet_x1 outlet_x2 outlet_y1 outlet_z1 outlet_z2 () t0 no 288.15 q<br><br>/define/boundary-conditions wall pipe 0 no 0 yes steel no no 0 no no no no no 0 no 0.5 yes no 1<br>/define/boundary-conditions wall ground 0 no 0 yes soil no no 0 no no no no no 0 no 0.5 yes no 1<br><br>; 9、创建并设置监测点和面<br>surf point-surf point-1 0 0.4 0 q<br>surf point-surf point-2 0 0.5 0 q<br>surf point-surf point-3 2 0.4 0 q<br><br>/solve/report-definitions add report1 surface-vertexavg field molef-h2 surface-names point-1 () q<br><br>/surface/plane plane1 0 0 0 0 1 0 0 0 1<br><br>; 10、初始化<br>/solve/initialize/set-defaults/ temperature 288.15<br>/solve/initialize/set-defaults/ pressure 0<br>/solve/initialize/set-defaults/ species-0 0<br><br>/solve/initialize initialize-flow ok<br>; 显示一下contour<br>;/display/contour molef-h2 0 1<br><br><br>; 11、设置保存格式及频率<br>; 设置数据保存内容<br>/file/data-file-options molef-h2 molef-air absolute-pressure air h2 velocity-magnitude mesh-x-velocity mesh-y-velocity mesh-z-velocity pressure density total-pressure total-temperature  x-velocity y-velocity z-velocity viscosity-eff viscosity-lam viscosity-ratio viscosity-turb vorticity-mag q<br>; 保存tecplot文件<br>/file/transient-export/tecplot  C:/Users/23984/Desktop/tui_test/tecplot1 ground inlet outlet_x1 outlet_x2 outlet_y1 outlet_z1 outlet_z2 pipe () molef-h2 molef-air absolute-pressure air h2 velocity-magnitude mesh-x-velocity mesh-y-velocity mesh-z-velocity pressure density total-pressure total-temperature  x-velocity y-velocity z-velocity viscosity-eff viscosity-lam viscosity-ratio viscosity-turb vorticity-mag q tecplot1 10 time-step<br><br>; 12、创建contour并保存动画<br>/display/objects/create contour &quot;contour-1&quot; filled yes field molef-h2 surfaces-list plane1 () q<br>/solve/animate/objects/create &quot;animation-1&quot; animate-on contour-1 storage-dir C:\Users\23984\Desktop\tui_test frequency-of &quot;Time Step&quot; q<br><br>; 13、设置迭代参数<br>/solve/set/max-iterations-per-time-step 50<br>/solve/set/time-step 1<br>/solve/set/number-of-time-steps 1000<br>/file/write-case/setting.cas<br><br>; 14、开始计算<br>/solve/dual-time-iterate 1000 20<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">学习Fluent的TUI命令基础知识以及如何自己写TUI</summary>
    
    
    
    <category term="模拟" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="Fluent" scheme="http://example.com/categories/%E6%A8%A1%E6%8B%9F/Fluent/"/>
    
    
    <category term="Fluent" scheme="http://example.com/tags/Fluent/"/>
    
    <category term="模拟" scheme="http://example.com/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="学习笔记" scheme="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="TUI" scheme="http://example.com/tags/TUI/"/>
    
  </entry>
  
</feed>
